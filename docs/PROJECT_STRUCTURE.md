# TwinStar Quantum - í”„ë¡œì íŠ¸ êµ¬ì¡° ë° ê¸°ëŠ¥ ë¬¸ì„œ

## ğŸ“ í´ë” êµ¬ì¡°

```
TwinStar-Quantum/
â”‚
â”œâ”€â”€ GUI/                          # ğŸ–¥ï¸ ë°ìŠ¤í¬í†± UI (PyQt5)
â”‚   â”œâ”€â”€ components/               # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ bot_control_card.py   # ë´‡ ì œì–´ ì¹´ë“œ
â”‚   â”‚   â”œâ”€â”€ interactive_chart.py  # ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸
â”‚   â”‚   â”œâ”€â”€ position_table.py     # í¬ì§€ì…˜ í…Œì´ë¸”
â”‚   â”‚   â”œâ”€â”€ status_card.py        # ìƒíƒœ ì¹´ë“œ
â”‚   â”‚   â””â”€â”€ trade_panel.py        # ë§¤ë§¤ íŒ¨ë„
â”‚   â”‚
â”‚   â”œâ”€â”€ optimization/             # ìµœì í™” ëª¨ë“ˆ (ë¶„ë¦¬ë¨)
â”‚   â”‚   â”œâ”€â”€ common.py             # ê³µí†µ import
â”‚   â”‚   â”œâ”€â”€ worker.py             # OptimizationWorker (ìŠ¤ë ˆë“œ)
â”‚   â”‚   â”œâ”€â”€ params.py             # íŒŒë¼ë¯¸í„° ìœ„ì ¯
â”‚   â”‚   â””â”€â”€ main.py               # OptimizationWidget
â”‚   â”‚
â”‚   â”œâ”€â”€ backtest/                 # ë°±í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ
â”‚   â”‚   â””â”€â”€ __init__.py           # ê¸°ì¡´ backtest_widget.py ì—°ê²°
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                    # ì˜¨ë³´ë”© í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ step1_backtest.py     # 1ë‹¨ê³„: ë°±í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ step2_optimize.py     # 2ë‹¨ê³„: ìµœì í™”
â”‚   â”‚   â”œâ”€â”€ step3_trade.py        # 3ë‹¨ê³„: ë§¤ë§¤
â”‚   â”‚   â”œâ”€â”€ step4_monitor.py      # 4ë‹¨ê³„: ëª¨ë‹ˆí„°ë§
â”‚   â”‚   â””â”€â”€ step5_results.py      # 5ë‹¨ê³„: ê²°ê³¼
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                   # í…Œë§ˆ/ìŠ¤íƒ€ì¼
â”‚   â”‚   â”œâ”€â”€ elegant_theme.py      # ì—˜ë ˆê°•íŠ¸ í…Œë§ˆ
â”‚   â”‚   â”œâ”€â”€ premium_theme.py      # í”„ë¦¬ë¯¸ì—„ í…Œë§ˆ
â”‚   â”‚   â””â”€â”€ vivid_theme.py        # ë¹„ë¹„ë“œ í…Œë§ˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/                # ëŒ€ì‹œë³´ë“œ ê´€ë ¨
â”‚   â”‚   â””â”€â”€ multi_explorer.py     # ë©€í‹° ì‹¬ë³¼ íƒìƒ‰ê¸°
â”‚   â”‚
â”‚   â”œâ”€â”€ optimization_widget.py    # ğŸ“Š ìµœì í™” ìœ„ì ¯ (ë©”ì¸)
â”‚   â”œâ”€â”€ backtest_widget.py        # ğŸ“ˆ ë°±í…ŒìŠ¤íŠ¸ ìœ„ì ¯
â”‚   â”œâ”€â”€ trading_dashboard.py      # ğŸ’¹ ë§¤ë§¤ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ settings_widget.py        # âš™ï¸ ì„¤ì • ìœ„ì ¯
â”‚   â”œâ”€â”€ history_widget.py         # ğŸ“œ ê±°ë˜ ë‚´ì—­
â”‚   â”œâ”€â”€ data_collector_widget.py  # ğŸ“¥ ë°ì´í„° ìˆ˜ì§‘
â”‚   â”œâ”€â”€ auto_pipeline_widget.py   # ğŸ¤– ìë™ë§¤ë§¤ íŒŒì´í”„ë¼ì¸
â”‚   â””â”€â”€ staru_main.py             # ğŸš€ ë©”ì¸ ìœˆë„ìš°
â”‚
â”œâ”€â”€ core/                         # ğŸ§  í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ strategy_core.py          # AlphaX7Core ì „ëµ
â”‚   â”œâ”€â”€ optimizer.py              # OptimizationEngine
â”‚   â”œâ”€â”€ optimization_logic.py     # ìµœì í™” ë¡œì§
â”‚   â”œâ”€â”€ multi_sniper.py           # ë©€í‹° ì½”ì¸ ìŠ¤ë‚˜ì´í¼
â”‚   â”œâ”€â”€ order_executor.py         # ì£¼ë¬¸ ì‹¤í–‰ê¸°
â”‚   â”œâ”€â”€ position_manager.py       # í¬ì§€ì…˜ ê´€ë¦¬
â”‚   â”œâ”€â”€ license_guard.py          # ë¼ì´ì„ ìŠ¤ ê²€ì¦
â”‚   â””â”€â”€ batch_optimizer.py        # ë°°ì¹˜ ìµœì í™”
â”‚
â”œâ”€â”€ exchanges/                    # ğŸ¦ ê±°ë˜ì†Œ ì—°ë™
â”‚   â”œâ”€â”€ bybit_exchange.py         # Bybit
â”‚   â”œâ”€â”€ binance_exchange.py       # Binance
â”‚   â”œâ”€â”€ okx_exchange.py           # OKX
â”‚   â”œâ”€â”€ bitget_exchange.py        # Bitget
â”‚   â”œâ”€â”€ upbit_exchange.py         # Upbit (KRW)
â”‚   â”œâ”€â”€ bithumb_exchange.py       # Bithumb (KRW)
â”‚   â”œâ”€â”€ ccxt_exchange.py          # CCXT í†µí•©
â”‚   â””â”€â”€ exchange_manager.py       # ê±°ë˜ì†Œ ê´€ë¦¬ì
â”‚
â”œâ”€â”€ config/                       # âš™ï¸ ì„¤ì •
â”‚   â”œâ”€â”€ constants/                # ìƒìˆ˜ ì •ì˜
â”‚   â”œâ”€â”€ presets/                  # ìµœì í™” í”„ë¦¬ì…‹ ì €ì¥
â”‚   â””â”€â”€ parameters.py             # íŒŒë¼ë¯¸í„° ê¸°ë³¸ê°’
â”‚
â”œâ”€â”€ utils/                        # ğŸ”§ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ preset_manager.py         # í”„ë¦¬ì…‹ ê´€ë¦¬
â”‚   â”œâ”€â”€ data_utils.py             # ë°ì´í„° ìœ í‹¸
â”‚   â”œâ”€â”€ formatters/               # í¬ë§·í„°
â”‚   â””â”€â”€ crypto.py                 # ì•”í˜¸í™”
â”‚
â”œâ”€â”€ ui/                           # ğŸ¨ UI ë””ìì¸ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ design_system/
â”‚   â”‚   â”œâ”€â”€ tokens.py             # ë””ìì¸ í† í°
â”‚   â”‚   â”œâ”€â”€ theme.py              # í…Œë§ˆ ìƒì„±ê¸°
â”‚   â”‚   â””â”€â”€ styles/               # ìŠ¤íƒ€ì¼ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ widgets/                  # ìœ„ì ¯
â”‚   â””â”€â”€ dialogs/                  # ë‹¤ì´ì–¼ë¡œê·¸
â”‚
â”œâ”€â”€ web/                          # ğŸŒ ì›¹ ë²„ì „
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â””â”€â”€ main.py               # FastAPI ì„œë²„
â”‚   â”œâ”€â”€ frontend/
â”‚   â”‚   â””â”€â”€ index.html            # Vue.js SPA
â”‚   â””â”€â”€ run_server.py             # í†µí•© ì‹¤í–‰
â”‚
â”œâ”€â”€ tests/                        # ğŸ§ª í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ unit/                     # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ integration/              # í†µí•© í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ fixtures/                 # í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜
â”‚
â”œâ”€â”€ locales/                      # ğŸŒ ë‹¤êµ­ì–´
â”‚   â”œâ”€â”€ ko.json                   # í•œêµ­ì–´
â”‚   â””â”€â”€ en.json                   # ì˜ì–´
â”‚
â””â”€â”€ docs/                         # ğŸ“š ë¬¸ì„œ
    â”œâ”€â”€ PROJECT_STRUCTURE.md      # ì´ ë¬¸ì„œ
    â””â”€â”€ METRICS_REFERENCE.md      # ì§€í‘œ ë ˆí¼ëŸ°ìŠ¤
```

---

## ğŸ“Š ìµœì í™” ì§€í‘œ (Metrics) ìƒì„¸

### í•µì‹¬ ì§€í‘œ ì •ì˜

| ì§€í‘œ | ë³€ìˆ˜ëª… | ì„¤ëª… | ê³„ì‚° ìœ„ì¹˜ |
|------|--------|------|-----------|
| **ìŠ¹ë¥ ** | `win_rate` | ìˆ˜ìµ ê±°ë˜ ë¹„ìœ¨ (%) | `core/optimizer.py` |
| **MDD** | `max_drawdown` | ìµœëŒ€ ë‚™í­ (%) | `core/optimizer.py` |
| **ë‹¨ë¦¬ ìˆ˜ìµ** | `simple_return` | ë‹¨ë¦¬ ê¸°ì¤€ ì´ ìˆ˜ìµë¥  | `core/optimizer.py` |
| **ë³µë¦¬ ìˆ˜ìµ** | `compound_return` | ë³µë¦¬ ê¸°ì¤€ ì´ ìˆ˜ìµë¥  | `core/optimizer.py` |
| **ìƒ¤í”„ ë¹„ìœ¨** | `sharpe_ratio` | ìœ„í—˜ ëŒ€ë¹„ ìˆ˜ìµë¥  | `core/optimizer.py` |
| **ë§¤ë§¤ íšŸìˆ˜** | `trade_count` | ì´ ê±°ë˜ íšŸìˆ˜ | `core/optimizer.py` |
| **ìˆ˜ìµ íŒ©í„°** | `profit_factor` | ì´ ìˆ˜ìµ / ì´ ì†ì‹¤ | `core/optimizer.py` |

---

## ğŸ”— ì§€í‘œë³„ ì˜í–¥ ê´€ê³„ ë§µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ìµœì í™” íŒŒë¼ë¯¸í„° (ì…ë ¥)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  atr_mult        â†’ SL/TP ê±°ë¦¬ â†’ MDD, ìŠ¹ë¥ , ìˆ˜ìµë¥                â”‚
â”‚  trail_start_r   â†’ íŠ¸ë ˆì¼ë§ ì‹œì‘ â†’ ìˆ˜ìµë¥ , ìŠ¹ë¥                   â”‚
â”‚  trail_dist_r    â†’ íŠ¸ë ˆì¼ë§ ê±°ë¦¬ â†’ MDD, ìˆ˜ìµë¥                    â”‚
â”‚  leverage        â†’ ë ˆë²„ë¦¬ì§€ â†’ ìˆ˜ìµë¥ , MDD (ë¹„ë¡€)                 â”‚
â”‚  direction       â†’ ë°©í–¥ (Long/Short/Both) â†’ ë§¤ë§¤íšŸìˆ˜, ìŠ¹ë¥        â”‚
â”‚  filter_tf       â†’ í•„í„° íƒ€ì„í”„ë ˆì„ â†’ ì‹ í˜¸ í’ˆì§ˆ â†’ ìŠ¹ë¥             â”‚
â”‚  entry_tf        â†’ ì§„ì… íƒ€ì„í”„ë ˆì„ â†’ ë§¤ë§¤íšŸìˆ˜, íƒ€ì´ë°            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ì²˜ë¦¬)                          â”‚
â”‚                  core/strategy_core.py                          â”‚
â”‚                  AlphaX7Core.run_backtest()                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ê²°ê³¼ ì§€í‘œ (ì¶œë ¥)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  win_rate        â† ìˆ˜ìµ ê±°ë˜ ìˆ˜ / ì „ì²´ ê±°ë˜ ìˆ˜                  â”‚
â”‚  max_drawdown    â† ìµœê³ ì  ëŒ€ë¹„ ìµœëŒ€ í•˜ë½í­                      â”‚
â”‚  simple_return   â† Î£(ê° ê±°ë˜ ìˆ˜ìµë¥ )                            â”‚
â”‚  compound_return â† Î (1 + ê° ê±°ë˜ ìˆ˜ìµë¥ ) - 1                    â”‚
â”‚  sharpe_ratio    â† (í‰ê·  ìˆ˜ìµ / í‘œì¤€í¸ì°¨) Ã— âˆš252                â”‚
â”‚  trade_count     â† ì´ ê±°ë˜ ë°œìƒ íšŸìˆ˜                            â”‚
â”‚  profit_factor   â† ì´ ìˆ˜ìµ / ì´ ì†ì‹¤                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ ì§€í‘œ ê³„ì‚° ì½”ë“œ ìœ„ì¹˜

### 1. ìŠ¹ë¥  (Win Rate)
```python
# ìœ„ì¹˜: core/optimizer.py:757
win_rate = (pnl_series > 0).mean() * 100
```

### 2. MDD (Maximum Drawdown)
```python
# ìœ„ì¹˜: core/optimizer.py:773-779
max_drawdown = 0
for eq in equity_curve:
    peak = max(peak, eq)
    drawdown = (peak - eq) / peak * 100
    if drawdown > max_drawdown:
        max_drawdown = drawdown
```

### 3. ìƒ¤í”„ ë¹„ìœ¨ (Sharpe Ratio)
```python
# ìœ„ì¹˜: core/optimizer.py:784-786
sharpe_ratio = (pnl_series.mean() / pnl_series.std()) * np.sqrt(252 * 4)
```

### 4. ìˆ˜ìµë¥  ê³„ì‚°
```python
# ìœ„ì¹˜: core/optimizer.py:758-769
simple_return = pnl_series.sum()           # ë‹¨ë¦¬
compound_return = (equity - 1) * 100       # ë³µë¦¬
```

---

## ğŸ¯ ë“±ê¸‰ ì‚°ì • ê¸°ì¤€

```python
# ìœ„ì¹˜: core/optimizer.py:243-259
def calculate_grade(win_rate, profit_factor, max_drawdown):
    mdd = abs(max_drawdown)
    
    if win_rate >= 80 and profit_factor >= 3.0 and mdd <= 10:
        return 'S'   # ìµœìƒìœ„
    elif win_rate >= 70 and profit_factor >= 2.0 and mdd <= 15:
        return 'A'   # ìš°ìˆ˜
    elif win_rate >= 60 and profit_factor >= 1.5 and mdd <= 20:
        return 'B'   # ì–‘í˜¸
    else:
        return 'C'   # ë³´í†µ
```

| ë“±ê¸‰ | ìŠ¹ë¥  | ìˆ˜ìµ íŒ©í„° | MDD |
|------|------|-----------|-----|
| **S** | â‰¥80% | â‰¥3.0 | â‰¤10% |
| **A** | â‰¥70% | â‰¥2.0 | â‰¤15% |
| **B** | â‰¥60% | â‰¥1.5 | â‰¤20% |
| **C** | ê¸°íƒ€ | ê¸°íƒ€ | ê¸°íƒ€ |

---

## ğŸ“ íŒŒì¼ë³„ ì§€í‘œ ì‚¬ìš© í˜„í™©

| íŒŒì¼ | ì‚¬ìš© ì§€í‘œ | ìš©ë„ |
|------|-----------|------|
| `core/optimizer.py` | ëª¨ë“  ì§€í‘œ | ê³„ì‚° ë° ì €ì¥ |
| `core/strategy_core.py` | win_rate, mdd | ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ |
| `GUI/optimization_widget.py` | ëª¨ë“  ì§€í‘œ | ê²°ê³¼ í…Œì´ë¸” í‘œì‹œ |
| `GUI/backtest_widget.py` | win_rate, return, mdd | ê²°ê³¼ ì°¨íŠ¸ |
| `core/batch_optimizer.py` | win_rate, mdd | í•„í„°ë§ ê¸°ì¤€ |
| `utils/preset_manager.py` | ëª¨ë“  ì§€í‘œ | í”„ë¦¬ì…‹ ì €ì¥ |

---

## ğŸ”§ ì§€í‘œ ì„¤ì • ë³€ê²½ ë°©ë²•

### í•„í„°ë§ ê¸°ì¤€ ë³€ê²½
```python
# ìœ„ì¹˜: core/batch_optimizer.py:65-67
min_win_rate: float = 70.0   # ìµœì†Œ ìŠ¹ë¥ 
max_mdd: float = 20.0        # ìµœëŒ€ MDD
min_trades: int = 10         # ìµœì†Œ ê±°ë˜ íšŸìˆ˜
```

### ê²°ê³¼ ì •ë ¬ ê¸°ì¤€ ë³€ê²½
```python
# ìœ„ì¹˜: core/optimizer.py:923
# ìƒ¤í”„ ë¹„ìœ¨ ê¸°ì¤€ ì •ë ¬ (ê¸°ë³¸ê°’)
top_results = sorted(results, key=lambda x: x.sharpe_ratio, reverse=True)

# ìŠ¹ë¥  ê¸°ì¤€ìœ¼ë¡œ ë³€ê²½í•˜ë ¤ë©´:
# top_results = sorted(results, key=lambda x: x.win_rate, reverse=True)
```

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2026-01-13*
