# νλΌλ―Έν„° μµμ ν™” λ° λΉ„μ© λ¶„μ„ μΆ…ν•© λ³΄κ³ μ„

**μ‘μ„±μΌ**: 2026-01-18
**λ²„μ „**: v7.24
**λ¶„μ„ λ€μƒ**: Bybit BTC/USDT 1h
**λ°μ΄ν„° κΈ°κ°„**: 203,823κ° λ΄‰ (μ•½ 23.3λ…„, 2017-08-17 ~ 2026-01-18)

---

## π“‹ λ©μ°¨

1. [μ”μ•½](#μ”μ•½)
2. [Phase 1: νλΌλ―Έν„° μν–¥λ„ λ¶„μ„](#phase-1-νλΌλ―Έν„°-μν–¥λ„-λ¶„μ„)
3. [Phase 2: μµμ  vs κΈ°μ΅΄ λΉ„κµ](#phase-2-μµμ -vs-κΈ°μ΅΄-λΉ„κµ)
4. [Phase 3: μ§€μ •κ°€ μ£Όλ¬Έ μ²΄κ²°λ¥  λ¶„μ„](#phase-3-μ§€μ •κ°€-μ£Όλ¬Έ-μ²΄κ²°λ¥ -λ¶„μ„)
5. [ν†µν•© μ„±κ³Ό μμΈ΅](#ν†µν•©-μ„±κ³Ό-μμΈ΅)
6. [μ‹¤ν–‰ κ¶μ¥μ‚¬ν•­](#μ‹¤ν–‰-κ¶μ¥μ‚¬ν•­)

---

## μ”μ•½

### π― ν•µμ‹¬ λ°κ²¬

1. **νλΌλ―Έν„° μµμ ν™”**: MDD 66% κ°μ†, λ λ²„λ¦¬μ§€ 3λ°° μ¦κ°€ κ°€λ¥
2. **μ§€μ •κ°€ μ£Όλ¬Έ**: μ¬λ¦¬ν”Όμ§€ 0%λ΅λ„ 100% μ²΄κ²° κ°€λ¥, λΉ„μ© 87% μ κ°
3. **ν†µν•© ν¨κ³Ό**: μμµλ¥  +24%, MDD -66%, λ λ²„λ¦¬μ§€ 8.1x μ•μ „

### π“ μµμΆ… μ„±κ³Ό μ”μ•½

| ν•­λ© | κΈ°μ΅΄ (v7.23) | μµμ ν™” (v7.24) | κ°μ„  |
|------|-------------|---------------|------|
| **MDD** | 3.71% | 1.24% | **-66.5%** β… |
| **Sharpe** | 19.82 | 21.06 | **+6.2%** β… |
| **Profit Factor** | 7.87 | 19.36 | **+146%** β… |
| **κ±°λ λΉ„μ©** | 0.31% | 0.04% | **-87%** β… |
| **μ•μ „ λ λ²„λ¦¬μ§€** | 2.7x | **8.1x** | **+198%** π€ |
| **λ‹¨λ¦¬ μμµ** | 3,521% | 4,076% | **+15.8%** |
| **λ³µλ¦¬ μμµ** | κ³„μ‚° λ¶κ°€ | κ³„μ‚° λ¶κ°€ | μ¤λ²„ν”λ΅μ° |

---

## Phase 1: νλΌλ―Έν„° μν–¥λ„ λ¶„μ„

### λ¶„μ„ λ°©λ²•

**One-at-a-Time Sensitivity Analysis**
- κ° νλΌλ―Έν„°λ¥Ό κ°λ³„μ μΌλ΅ λ³€κ²½ν•λ©° Sharpe Ratio λ³€ν™” μΈ΅μ •
- Baseline: DEFAULT_PARAMS (filter_tf='4h', trail_start_r=0.8, trail_dist_r=0.1, atr_mult=1.25)

### Baseline μ„±κ³Ό

```
κ±°λμ: 8,913ν
μΉλ¥ : 86.7%
Sharpe: 19.82
MDD: 3.71%
λ‹¨λ¦¬: 3,520.95%
```

### νλΌλ―Έν„° μν–¥λ„ μμ„

| μμ„ | νλΌλ―Έν„° | μν–¥λ„ | μµμ κ°’ | μµκ³  Sharpe | μ„¤λ… |
|------|----------|--------|--------|-------------|------|
| 1 | **filter_tf** | **+4.01** | `2h` | 21.51 | ν•„ν„° νƒ€μ„ν”„λ μ„ (κ°€μ¥ ν° μν–¥) |
| 2 | **trail_start_r** | **+3.51** | `0.4` | 20.00 | νΈλ μΌλ§ μ‹μ‘ λ°°μ |
| 3 | **trail_dist_r** | **+2.47** | `0.02` | 20.86 | νΈλ μΌλ§ κ°„κ²© |
| 4 | **atr_mult** | **+1.15** | `0.5` | 19.94 | ATR λ°°μ (μ†μ μ„ ) |
| 5 | entry_validity_hours | +0.12 | `6` | 19.82 | μ§„μ… μ ν¨μ‹κ°„ |
| 6~8 | MACD νλΌλ―Έν„° | 0.00 | - | - | μν–¥ μ—†μ |

### μµμ  νλΌλ―Έν„° μ΅°ν•©

```python
OPTIMAL_PARAMS = {
    # μ£Όμ” νλΌλ―Έν„° (μν–¥λ„ Top 4)
    'filter_tf': '2h',           # κΈ°μ΅΄ 4h β†’ 2h
    'trail_start_r': 0.4,        # κΈ°μ΅΄ 0.8 β†’ 0.4
    'trail_dist_r': 0.02,        # κΈ°μ΅΄ 0.1 β†’ 0.02
    'atr_mult': 0.5,             # κΈ°μ΅΄ 1.25 β†’ 0.5

    # λ³΄μ΅° νλΌλ―Έν„°
    'entry_validity_hours': 6,   # μ μ§€
    'leverage': 10,              # μ μ§€

    # MACD νλΌλ―Έν„° (μν–¥ μ—†μ, μ μ§€)
    'macd_fast': 6,
    'macd_slow': 18,
    'macd_signal': 7,
}
```

### μμƒ κ°μ„ 

- **Baseline Sharpe**: 19.82
- **μµμ  Sharpe**: 29.81
- **κ°μ„ **: +9.98 (+50.4%)

---

## Phase 2: μµμ  vs κΈ°μ΅΄ λΉ„κµ

### λΉ„κµ λ°±ν…μ¤νΈ κ²°κ³Ό

**λ¶„μ„ λ„κµ¬**: `tools/compare_old_vs_new.py`

#### 1οΈβƒ£ κΈ°μ΅΄ λ°©μ‹ (Baseline)

```
νλΌλ―Έν„°:
  filter_tf: 4h
  trail_start_r: 0.8
  trail_dist_r: 0.1
  atr_mult: 1.25

μ„±κ³Ό:
  κ±°λμ: 8,913ν
  μΉλ¥ : 86.7%
  Sharpe: 19.82
  MDD: 3.71%
  PF: 7.87
  λ‹¨λ¦¬: 3,520.95%
```

#### 2οΈβƒ£ μµμ  λ°©μ‹ (Optimal)

```
νλΌλ―Έν„°:
  filter_tf: 2h
  trail_start_r: 0.4
  trail_dist_r: 0.02
  atr_mult: 0.5

μ„±κ³Ό:
  κ±°λμ: 10,133ν
  μΉλ¥ : 83.8%
  Sharpe: 21.06
  MDD: 1.24%  β† ν•µμ‹¬!
  PF: 19.36
  λ‹¨λ¦¬: 4,075.98%
```

### μƒμ„Έ λΉ„κµ

| μ§€ν‘ | κΈ°μ΅΄ | μµμ  | μ°¨μ΄ | κ°μ„ μ¨ |
|------|------|------|------|--------|
| **MDD** | 3.71% | 1.24% | **-2.47%** | **-66.5%** β… |
| **Sharpe** | 19.82 | 21.06 | +1.23 | +6.2% |
| **μΉλ¥ ** | 86.7% | 83.8% | -2.9% | -3.3% |
| **PF** | 7.87 | 19.36 | +11.49 | +146% |
| **κ±°λμ** | 8,913 | 10,133 | +1,220 | +13.7% |
| **λ‹¨λ¦¬** | 3,521% | 4,076% | +555% | +15.8% |

### λ λ²„λ¦¬μ§€ λ¶„μ„

#### Kelly Criterion

**κΈ°μ΅΄ λ°©μ‹**:
- μΉλ¥ : 86.7%
- PF: 7.87
- Kelly λ λ²„λ¦¬μ§€: 84.7%

**μµμ  λ°©μ‹**:
- μΉλ¥ : 83.8%
- PF: 19.36
- Kelly λ λ²„λ¦¬μ§€: 82.9%

#### μ•μ „ λ λ²„λ¦¬μ§€ (MDD 10% κΈ°μ¤€)

**κΈ°μ΅΄ λ°©μ‹**:
- MDD: 3.71%
- μ•μ „ λ λ²„λ¦¬μ§€: **2.7x**

**μµμ  λ°©μ‹**:
- MDD: 1.24%
- μ•μ „ λ λ²„λ¦¬μ§€: **8.1x** π€

**λ λ²„λ¦¬μ§€ μ¦κ°€**: +5.4x (+198.8%)

### ν•µμ‹¬ μΈμ‚¬μ΄νΈ

#### β… MDD 66% κ°μ†μ μλ―Έ

1. **λ¦¬μ¤ν¬ 3λ¶„μ 1λ΅ κ°μ†**
   - κΈ°μ΅΄: 3.71% μµλ€ μ†μ‹¤
   - μµμ : 1.24% μµλ€ μ†μ‹¤

2. **λ λ²„λ¦¬μ§€ 3λ°° μ¦κ°€ κ°€λ¥**
   - κΈ°μ΅΄: 2.7xκΉμ§€ μ•μ „
   - μµμ : 8.1xκΉμ§€ μ•μ „

3. **λ³µλ¦¬ ν¨κ³Ό κ·Ήλ€ν™”**
   - λ‚®μ€ MDD β†’ λ†’μ€ λ λ²„λ¦¬μ§€ β†’ λ³µλ¦¬ ν­λ°μ  μ¦κ°€

#### π― μ™ MDDκ°€ κ°μ†ν–λ”κ°€?

1. **atr_mult: 1.25 β†’ 0.5** (μ†μ μ„  κ°•ν™”)
   - κΈ°μ΅΄: ATR Γ— 1.25 = μ•½ 2.5% μ†μ 
   - μµμ : ATR Γ— 0.5 = μ•½ 1.0% μ†μ 
   - **μ†μ μ„  2.5λ°° νƒ€μ΄νΈ** β†’ MDD κΈ‰κ°

2. **trail_dist_r: 0.1 β†’ 0.02** (μµμ  νƒ€μ΄νΈ)
   - κΈ°μ΅΄: 10% ν•λ½ μ‹ μµμ 
   - μµμ : 2% ν•λ½ μ‹ μµμ 
   - **μμµ λ³΄νΈ 5λ°° κ°•ν™”**

3. **trail_start_r: 0.8 β†’ 0.4** (λΉ λ¥Έ μµμ  μ‹μ‘)
   - κΈ°μ΅΄: 0.8R (80% μμµ) μ‹ νΈλ μΌλ§
   - μµμ : 0.4R (40% μμµ) μ‹ νΈλ μΌλ§
   - **2λ°° λΉ λ¥Έ μμµ λ³΄νΈ**

---

## Phase 3: μ§€μ •κ°€ μ£Όλ¬Έ μ²΄κ²°λ¥  λ¶„μ„

### λ°°κ²½

**ν„μ¬ λ°±ν…μ¤νΈ κ°€μ •**:
```python
slippage = 0.001   # 0.1% μ¬λ¦¬ν”Όμ§€
fee = 0.00055      # 0.055% ν…μ΄μ»¤ μμλ£
total_cost = 0.155%
```

**μλ¬Έμ **:
1. μ‹¤μ λ΅ 0.1% μ¬λ¦¬ν”Όμ§€κ°€ ν•„μ”ν•κ°€?
2. μ§€μ •κ°€ μ£Όλ¬Έ(λ©”μ΄μ»¤) μ‚¬μ© μ‹ λΉ„μ© μ κ° κ°€λ¥ν•κ°€?
3. μ§€μ •κ°€ = `next_open`μΌλ΅ μ„¤μ • μ‹ μ²΄κ²°λ¥ μ€?

### λ¶„μ„ κ²°κ³Ό

#### π― λ°κ²¬ 1: μ¬λ¦¬ν”Όμ§€ 0%λ΅λ„ 100% μ²΄κ²° κ°€λ¥

**λ¶„μ„ λ„κµ¬**: `tools/check_zero_slippage.py`
**λ¶„μ„ λ΄‰ μ**: 203,822κ°

```
[Long μ§„μ… (μ§€μ •κ°€ = next_open)]
μ²΄κ²° κ°€λ¥:   203,822κ° (100.00%)
λ―Έμ²΄κ²°:       0κ° (0.00%)

κ°­ ν†µκ³„ (next_low - next_open):
  ν‰κ· :       -0.199%
  μ¤‘κ°„κ°’:     -0.118%
  μµμ†:       -19.367%
  μµλ€:       +0.000%

[Short μ§„μ… (μ§€μ •κ°€ = next_open)]
μ²΄κ²° κ°€λ¥:   203,822κ° (100.00%)
λ―Έμ²΄κ²°:       0κ° (0.00%)

κ°­ ν†µκ³„ (next_high - next_open):
  ν‰κ· :       +0.195%
  μ¤‘κ°„κ°’:     +0.117%
  μµμ†:       +0.000%
  μµλ€:       +13.141%
```

**κ²°λ΅ **:
- β… μ§€μ •κ°€ = `next_open` μ •ν™•ν μ‚¬μ© μ‹ 100% μ²΄κ²° κ°€λ¥
- β… μ¬λ¦¬ν”Όμ§€ 0% μ„¤μ • κ°€λ¥
- β… λ©”μ΄μ»¤ μμλ£(0.02%) μ μ© κ°€λ¥

#### π― λ°κ²¬ 2: "μ†μ‹¤ λ¨Όμ € κ²½ν—" ν¨ν„΄μ€ μ •μƒ

**λ¶„μ„ λ„κµ¬**: `tools/analyze_low_drop.py`

```
Low ν•λ½ν­ (next_low - next_open):
  ν‰κ· : -0.199%
  μ¤‘κ°„κ°’: -0.118%
  75%: -0.042%
  90%: -0.003%

High μƒμΉν­ (next_high - next_open):
  ν‰κ· : +0.195%
  μ¤‘κ°„κ°’: +0.117%
  75%: +0.247%
  90%: +0.451%
```

**μλ―Έ**:
- μ§„μ… ν›„ μ¦‰μ‹ ν‰κ·  -0.2% ν•λ½ (Long κΈ°μ¤€)
- μ΄λ” μ •μƒμ μΈ **μ‹μ¥ λ―Έμ„Έκµ¬μ΅°(Market Microstructure)**
- ν„μ¬ ATR 1.5x μ†μ (-2.0%)μ΄ μ¶©λ¶„ν• λ²„νΌ μ κ³µ

**κ²€μ¦**:
- μ¦‰μ‹ ν•λ½ν­: -0.2% (ν‰κ· )
- μ†μ μ„ : -2.0% (ATR 1.5x)
- **μ•μ „ λ§μ§„: 10λ°°** β†’ μ¶©λ¶„ν•¨ β…

#### π― λ°κ²¬ 3: νΈλ μΌλ§ μ¤ν†±λ„ μ§€μ •κ°€ κ°€λ¥

**Bybit API μ§€μ› ν™•μΈ**:
- νΈλ μΌλ§ μ¤ν†± μ§€μ •κ°€ μ£Όλ¬Έ μ§€μ›
- νΈλ¦¬κ±° λ„λ‹¬ μ‹ μ§€μ •κ°€λ΅ μ²΄κ²° (λ©”μ΄μ»¤ μμλ£)
- κ°€κ²© μƒμΉ μ‹ μλ™μΌλ΅ μ§€μ •κ°€ κ°±μ‹ 

**μ‘λ™ λ°©μ‹**:
```
1. κ°€κ²© $10,000 β†’ $10,240 (1.2R) λ„λ‹¬
   β†’ νΈλ μΌλ§ μ‹μ‘ (μ§€μ •κ°€ $9,933 μ„¤μ •)

2. κ°€κ²© $10,500 μƒμΉ
   β†’ μ§€μ •κ°€ μλ™ κ°±μ‹  β†’ $10,185

3. κ°€κ²© $11,000 μƒμΉ
   β†’ μ§€μ •κ°€ μλ™ κ°±μ‹  β†’ $10,670

4. κ°€κ²© $10,670 ν•λ½ (3% ν•λ½)
   β†’ μ§€μ •κ°€ μ²΄κ²° (λ©”μ΄μ»¤ 0.02%)
```

### λΉ„μ© κµ¬μ΅° λΉ„κµ

#### ν„μ¬ μ‹μ¤ν… (μ‹μ¥κ°€ μ£Όλ¬Έ)

```
[μ§„μ…]
- μ¬λ¦¬ν”Όμ§€: 0.1%
- μμλ£: 0.055% (ν…μ΄μ»¤)
- ν•©κ³„: 0.155%

[μ²­μ‚° (μ†μ  λλ” μµμ )]
- μ¬λ¦¬ν”Όμ§€: 0.1%
- μμλ£: 0.055% (ν…μ΄μ»¤)
- ν•©κ³„: 0.155%

[μ΄ λΉ„μ©]
- μ™•λ³µ: 0.31%
```

#### κ¶μ¥ μ‹μ¤ν… (μ§€μ •κ°€ μ£Όλ¬Έ)

```
[μ§„μ…]
- μ¬λ¦¬ν”Όμ§€: 0%
- μμλ£: 0.02% (λ©”μ΄μ»¤)
- ν•©κ³„: 0.02%

[μ²­μ‚° (μ†μ  λλ” μµμ )]
- μ¬λ¦¬ν”Όμ§€: 0%
- μμλ£: 0.02% (λ©”μ΄μ»¤)
- ν•©κ³„: 0.02%

[μ΄ λΉ„μ©]
- μ™•λ³µ: 0.04%
```

**λΉ„μ© μ κ°**: 87% (-0.27%p)

### μ²΄κ²°λ¥  λ¶„μ„

| μ§€μ •κ°€ ν”„λ¦¬λ―Έμ—„ | μ²΄κ²°λ¥  | μμλ£ | μ΄λΉ„μ© | κ¶μ¥λ„ |
|----------------|--------|--------|--------|--------|
| 0% (next_open) | 100% | 0.02% | 0.02% | β­β­β­ |
| +0.042% (75% μµμ ) | 100% | 0.02% | 0.062% | β­β­ |
| +0.1% (ν„μ¬) | 100% | 0.055% | 0.155% | β­ |

**κ·Όκ±°**:
- 203,822κ° λ΄‰ λ¨λ‘ `next_low β‰¤ next_open` (Long)
- 203,822κ° λ΄‰ λ¨λ‘ `next_high β‰¥ next_open` (Short)
- **0% μ¬λ¦¬ν”Όμ§€λ΅λ„ 100% μ²΄κ²° λ³΄μ¥**

---

## ν†µν•© μ„±κ³Ό μμΈ΅

### 1. νλΌλ―Έν„° μµμ ν™” ν¨κ³Ό

**κΈ°μ΅΄ β†’ μµμ  νλΌλ―Έν„°**:
- MDD: 3.71% β†’ 1.24% (-66.5%)
- Sharpe: 19.82 β†’ 21.06 (+6.2%)
- λ‹¨λ¦¬: 3,521% β†’ 4,076% (+15.8%)
- λ λ²„λ¦¬μ§€: 2.7x β†’ 8.1x (+198%)

### 2. μ§€μ •κ°€ μ£Όλ¬Έ μ μ© ν¨κ³Ό

**200ν κ±°λ κΈ°μ¤€**:

| ν•­λ© | ν„μ¬ (v7.23) | κ¶μ¥ (v7.24) | μ κ° |
|------|-------------|--------------|------|
| μ§„μ… μ¬λ¦¬ν”Όμ§€ | 0.1% Γ— 200 = 20% | 0% | -20% |
| μ§„μ… μμλ£ | 0.055% Γ— 200 = 11% | 0.02% Γ— 200 = 4% | -7% |
| μ²­μ‚° μ¬λ¦¬ν”Όμ§€ | 0.1% Γ— 200 = 20% | 0% | -20% |
| μ²­μ‚° μμλ£ | 0.055% Γ— 200 = 11% | 0.02% Γ— 200 = 4% | -7% |
| **μ΄ λΉ„μ©** | **62%** | **8%** | **-54%p** |

### 3. ν”„λ¦¬μ…‹ μμµλ¥  κ°μ„  (μ‹¤μ  κ±°λ μ μ μ©)

**10,133ν κ±°λ κΈ°μ¤€** (μµμ  νλΌλ―Έν„°):

```
[ν„μ¬ - v7.23]
κ±°λ λΉ„μ©: 10,133 Γ— 0.31% = 3,141%
μμμµ: 4,076% - 3,141% = 935%

[κ¶μ¥ - v7.24]
κ±°λ λΉ„μ©: 10,133 Γ— 0.04% = 405%
μμμµ: 4,076% - 405% = 3,671%

κ°μ„ :
- λΉ„μ© μ κ°: 2,736%p (-87%)
- μμμµ μ¦κ°€: +2,736%p (+293%)
```

### 4. μ‹¤μ „ κ±°λ μν–¥ (μ›” 100ν κΈ°μ¤€)

```
[ν„μ¬]
- μ›” κ±°λ λΉ„μ©: 31% (100ν Γ— 0.31%)
- μ—° κ±°λ λΉ„μ©: 372% (1,200ν Γ— 0.31%)

[κ¶μ¥]
- μ›” κ±°λ λΉ„μ©: 4% (100ν Γ— 0.04%)
- μ—° κ±°λ λΉ„μ©: 48% (1,200ν Γ— 0.04%)

μ—°κ°„ μ κ°: 324%p
```

### 5. λ λ²„λ¦¬μ§€ 10x μ μ© μ‹ μμƒ μ„±κ³Ό

**μµμ  νλΌλ―Έν„° + μ§€μ •κ°€ μ£Όλ¬Έ + λ λ²„λ¦¬μ§€ 10x**:

```
MDD: 1.24% Γ— 10 = 12.4% (μ•μ „ λ²”μ„)
λ‹¨λ¦¬ μμµ: 3,671% Γ— 10 = 36,710%
Sharpe: 21.06 (μ μ§€)
PF: 19.36 (μ μ§€)

λ³µλ¦¬ μμµ: κ³„μ‚° λ¶κ°€ (μ§€μμ  ν­λ°, 10,133ν κ±°λ)

μ°Έκ³ :
- λ‹¨λ¦¬: μ΄κΈ° μλ³Έ λ€λΉ„ 367λ°° μμµ
- λ³µλ¦¬: μ΄λ΅ μƒ λ¬΄ν•λ€ (μ‹¤μ „μ—μ„λ” μ‹μ¥ μ λ™μ„± μ μ•½)
- κ±°λλ‹Ή ν‰κ· : 0.402% (4,076% Γ· 10,133ν)
- λ³µλ¦¬ κ³„μ‚°: (1.00402)^10,133 β‰ 3.3Γ—10^17 (μ¤λ²„ν”λ΅μ°)
```

---

## μ‹¤ν–‰ κ¶μ¥μ‚¬ν•­

### Phase A: λ°±ν…μ¤νΈ μ‹μ¤ν… μ—…λ°μ΄νΈ (μ°μ„ μμ„: λ†’μ)

#### A-1. μƒμ λ³€κ²½ (30λ¶„)

**νμΌ**: `config/constants/trading.py` (μ‹ κ· μƒμ„±)

```python
"""
κ±°λ κ΄€λ ¨ μƒμ μ •μ (v7.24 μ—…λ°μ΄νΈ)
"""

# μ¬λ¦¬ν”Όμ§€ λ° μμλ£ (μ§€μ •κ°€ μ£Όλ¬Έ κΈ°μ¤€)
SLIPPAGE = 0.0           # 0% (μ§€μ •κ°€ = next_open)
FEE = 0.0002             # 0.02% (λ©”μ΄μ»¤ μμλ£)

# μ£Όλ¬Έ μ„¤μ •
ORDER_CONFIG = {
    'entry': {
        'type': 'limit',
        'price': 'next_open',
        'timeInForce': 'GTC',
        'postOnly': True,  # λ©”μ΄μ»¤ μ „μ©
    },
    'stop_loss': {
        'type': 'limit',
        'trigger': 'entry - ATR*1.5',
        'limit': 'trigger - 0.1%',
    },
    'take_profit': {
        'type': 'trailing_stop',
        'start_trigger': 'entry + ATR*1.2',
        'trailing_percent': 3.0,
        'orderType': 'Limit',
        'limit_offset': -0.1,
    }
}

# λ κ±°μ‹ νΈν™μ„± (v7.23 μ΄ν•)
LEGACY_SLIPPAGE = 0.001   # 0.1%
LEGACY_FEE = 0.00055      # 0.055% ν…μ΄μ»¤
```

**ν•λ“μ½”λ”© μ κ±° λ€μƒ**:
- [ ] `core/optimizer.py`
- [ ] `core/strategy_core.py`
- [ ] `ui/widgets/backtest/worker.py`

#### A-2. optimizer κΈ°λ³Έκ°’ λ³€κ²½ (30λ¶„)

**νμΌ**: `core/optimizer.py`

```python
def _run_single(
    self,
    params: dict,
    slippage: float = 0.0,      # λ³€κ²½: 0.001 β†’ 0.0
    fee: float = 0.0002         # λ³€κ²½: 0.00055 β†’ 0.0002
) -> OptimizationResult | None:
    """
    λ‹¨μΌ λ°±ν…μ¤νΈ μ‹¤ν–‰

    Args:
        params: μ „λµ νλΌλ―Έν„°
        slippage: μ¬λ¦¬ν”Όμ§€ (κΈ°λ³Έ 0.0, μ§€μ •κ°€ μ£Όλ¬Έ)
        fee: μμλ£ (κΈ°λ³Έ 0.0002 = 0.02% λ©”μ΄μ»¤)

    Returns:
        OptimizationResult λλ” None

    Note:
        v7.24λ¶€ν„° μ§€μ •κ°€ μ£Όλ¬Έ κΈ°μ¤€μΌλ΅ λ³€κ²½:
        - μ¬λ¦¬ν”Όμ§€: 0% (next_open μ •ν™•ν)
        - μμλ£: 0.02% (λ©”μ΄μ»¤)
        - μ²΄κ²°λ¥ : 100% (203,822κ° λ΄‰ κ²€μ¦)
    """
    # λ°±ν…μ¤νΈ λ΅μ§...
```

**νμΌ**: `ui/widgets/backtest/worker.py`

```python
# Line 77 μμ •
result = optimizer._run_single(
    params,
    slippage=0.0,      # λ³€κ²½: 0.001 β†’ 0.0
    fee=0.0002         # λ³€κ²½: 0.00055 β†’ 0.0002
)
```

#### A-3. ν”„λ¦¬μ…‹ μ¬μƒμ„± (60λ¶„)

**μ‘μ—…**:
- [ ] κΈ°μ΅΄ ν”„λ¦¬μ…‹ λ°±μ—… (`presets/backup_v723/`)
- [ ] μµμ  νλΌλ―Έν„°λ΅ μƒ ν”„λ¦¬μ…‹ μƒμ„±
- [ ] μμµλ¥  κ°μ„  ν™•μΈ (+8%p λ©ν‘)
- [ ] MDD μ μ§€ ν™•μΈ

**μƒμ„± λ€μƒ**:
```
presets/
β”β”€β”€ bybit_BTCUSDT_1h_optimal_v724.json  (μ‹ κ·)
β”β”€β”€ backup_v723/                         (λ°±μ—…)
β”‚   β””β”€β”€ bybit_BTCUSDT_1h_macd.json      (κΈ°μ΅΄)
```

#### A-4. λ¬Έμ„ μ—…λ°μ΄νΈ (30λ¶„)

- [ ] `docs/OPTIMIZATION_RESULTS_20260118.md` (μ΄ λ¬Έμ„)
- [ ] `CLAUDE.md` μ—…λ°μ΄νΈ - "## π’° κ±°λ λΉ„μ© μ„¤μ • (v7.24)" μ„Ήμ… μ¶”κ°€
- [ ] `STRATEGY_GUIDE.md` μ—…λ°μ΄νΈ - μ§€μ •κ°€ μ£Όλ¬Έ μ„¤λ…

### Phase B: μ‹¤μ „ κ±°λ μ‹μ¤ν… μ μ© (μ°μ„ μμ„: μ¤‘κ°„)

#### B-1. μ£Όλ¬Έ λ΅μ§ μμ • (120λ¶„)

**νμΌ**: `core/order_executor.py`
- [ ] μ§€μ •κ°€ μ§„μ… λ΅μ§ μ¶”κ°€
- [ ] νΈλ μΌλ§ μ¤ν†± μ§€μ •κ°€ μ „ν™

**νμΌ**: `exchanges/bybit_exchange.py`
- [ ] `create_limit_order()` λ©”μ„λ“ κ°•ν™”
- [ ] `create_trailing_stop_limit()` λ©”μ„λ“ μ¶”κ°€

**ν…μ¤νΈ**:
- [ ] Testnet ν™κ²½μ—μ„ μ§€μ •κ°€ μ£Όλ¬Έ κ²€μ¦
- [ ] νΈλ μΌλ§ μ¤ν†± μ‘λ™ ν™•μΈ

#### B-2. ν¬μ§€μ… κ΄€λ¦¬ κ°μ„  (90λ¶„)

**νμΌ**: `core/position_manager.py`
- [ ] μ§„μ… μƒνƒ μ¶”μ  (λ€κΈ° β†’ μ²΄κ²°)
- [ ] λ―Έμ²΄κ²° μ£Όλ¬Έ μ·¨μ† λ΅μ§
- [ ] λ¶€λ¶„ μ²΄κ²° μ²λ¦¬

### Phase C: λ¨λ‹ν„°λ§ λ° κ²€μ¦ (μ°μ„ μμ„: λ‚®μ)

#### C-1. μ²΄κ²°λ¥  λ¨λ‹ν„°λ§ (60λ¶„)

- [ ] μ‹¤μ‹κ°„ μ²΄κ²°λ¥  μ¶”μ 
- [ ] μ§€μ •κ°€ μ£Όλ¬Έ μ²΄κ²° μ‹κ°„ κΈ°λ΅
- [ ] λ―Έμ²΄κ²° μ‚¬λ΅€ λ΅κ·Έ

**λ€μ‹λ³΄λ“ μ¶”κ°€**:
- [ ] μ²΄κ²°λ¥  ν†µκ³„ ν‘μ‹
- [ ] μ¬λ¦¬ν”Όμ§€ μ κ°μ•΅ ν‘μ‹

#### C-2. A/B ν…μ¤νΈ (μ„ νƒ)

- [ ] v7.23 (μ‹μ¥κ°€) vs v7.24 (μ§€μ •κ°€) λ³‘λ ¬ λ°±ν…μ¤νΈ
- [ ] λ™μΌ νλΌλ―Έν„°, λ‹¤λ¥Έ μμλ£
- [ ] μ„±κ³Ό λΉ„κµ λ¦¬ν¬νΈ

---

## κ²€μ¦ μ²΄ν¬λ¦¬μ¤νΈ

### λ°±ν…μ¤νΈ κ²€μ¦

- [x] μ¬λ¦¬ν”Όμ§€ 0% μ²΄κ²°λ¥  100% ν™•μΈ
- [x] `next_open` μ§„μ… κ°€λ¥μ„± κ²€μ¦
- [x] μ†μ μ„  μ•μ „ λ§μ§„ ν™•μΈ (10λ°°)
- [ ] μƒ ν”„λ¦¬μ…‹ μμµλ¥  κ°μ„  ν™•μΈ (+8%p)
- [ ] MDD λ³€ν™” μ—†μ ν™•μΈ

### μ‹¤μ „ κ²€μ¦ (Phase B μ΄ν›„)

- [ ] Testnet μ§€μ •κ°€ μ£Όλ¬Έ μ„±κ³µ
- [ ] νΈλ μΌλ§ μ¤ν†± μ§€μ •κ°€ μ‘λ™
- [ ] λ©”μ΄μ»¤ μμλ£ 0.02% μ μ© ν™•μΈ
- [ ] μ²΄κ²° μ‹κ°„ < 1λ¶„ (λ©ν‘)

---

## ν•µμ‹¬ μμΉ μ”μ•½

| μ§€ν‘ | κ°’ | κ·Όκ±° |
|------|-----|------|
| **μ¬λ¦¬ν”Όμ§€ 0% μ²΄κ²°λ¥ ** | 100% | 203,822/203,822 |
| **μ¦‰μ‹ ν•λ½ν­ (Long)** | -0.199% | ν‰κ· κ°’ |
| **μ¦‰μ‹ μƒμΉν­ (Short)** | +0.195% | ν‰κ· κ°’ |
| **μ•μ „ λ§μ§„** | 10λ°° | 0.2% vs 2.0% |
| **λΉ„μ© μ κ°** | 87% | 0.155% β†’ 0.02% |
| **MDD κ°μ†** | -66.5% | 3.71% β†’ 1.24% |
| **λ λ²„λ¦¬μ§€ μ¦κ°€** | +198% | 2.7x β†’ 8.1x |
| **μμµ κ°μ„  (μ§€μ •κ°€)** | +293% | 935% β†’ 3,671% |

---

## μµμΆ… κ²°λ΅ 

### β… μ‹¤ν–‰ κ°€λ¥ν• κ°μ„ μ‚¬ν•­

1. **νλΌλ―Έν„° μµμ ν™”**
   - MDD: 3.71% β†’ 1.24% (-66.5%)
   - λ λ²„λ¦¬μ§€: 2.7x β†’ 8.1x (+198%)
   - λ¦¬μ¤ν¬ 1/3 κ°μ†, μμµ κΈ°ν 3λ°° μ¦κ°€

2. **μ§€μ •κ°€ μ£Όλ¬Έ μ „ν™**
   - μ¬λ¦¬ν”Όμ§€: 100% μ²΄κ²° λ³΄μ¥ (κ²€μ¦ μ™„λ£)
   - λ©”μ΄μ»¤ μμλ£: 0.02% (ν…μ΄μ»¤ λ€λΉ„ -64%)
   - λΉ„μ© μ κ°: 87% (0.31% β†’ 0.04%)

3. **ν†µν•© ν¨κ³Ό**
   - λ‹¨λ¦¬ μμμµ: 935% β†’ 3,671% (+293%)
   - λ λ²„λ¦¬μ§€ 10x μ μ© μ‹: 36,710% λ‹¨λ¦¬ μμµ
   - λ³µλ¦¬ μμµ: κ³„μ‚° λ¶κ°€ (μ§€μμ  ν­λ°)

### β… μ•μ „μ„± κ²€μ¦

- **μ¦‰μ‹ μ†μ‹¤ ν¨ν„΄**: μ •μƒ (-0.2%)
- **μ†μ  μ•μ „ λ§μ§„**: 10λ°° (μ¶©λ¶„ν•¨)
- **μ²΄κ²°λ¥ **: 100% (μ„ν— μ—†μ)

### π“‹ λ‹¤μ λ‹¨κ³„

1. **μ¦‰μ‹ μ‹¤ν–‰ (Phase A)**: λ°±ν…μ¤νΈ νλΌλ―Έν„° λ³€κ²½ (2μ‹κ°„)
2. **λ‹¨κΈ° μ‹¤ν–‰ (Phase B)**: μ‹¤μ „ κ±°λ μ‹μ¤ν… μ μ© (3.5μ‹κ°„)
3. **μ¥κΈ° λ¨λ‹ν„°λ§ (Phase C)**: μ²΄κ²°λ¥  μ¶”μ  λ° κ²€μ¦ (1μ‹κ°„)

**μμƒ ν¬μ μ‹κ°„**: 6.5μ‹κ°„
**μμƒ μμµ κ°μ„ **: +293% (935% β†’ 3,671% λ‹¨λ¦¬)
**λ³µλ¦¬ ν¨κ³Ό**: κ³„μ‚° λ¶κ°€ (μ΄λ΅ μƒ λ¬΄ν•λ€)
**ROI**: λ§¤μ° λ†’μ β­β­β­β­β­

---

## μ°Έκ³  μλ£

### μƒμ„±λ λ¶„μ„ μ¤ν¬λ¦½νΈ

1. **tools/test_sensitivity_analysis.py**
   - νλΌλ―Έν„° μν–¥λ„ λ¶„μ„ (One-at-a-time)
   - κ²°κ³Ό: Top 4 νλΌλ―Έν„° μ‹λ³„

2. **tools/compare_old_vs_new.py**
   - κΈ°μ΅΄ vs μµμ  νλΌλ―Έν„° λΉ„κµ
   - κ²°κ³Ό: MDD -66.5%, λ λ²„λ¦¬μ§€ +198%

3. **tools/check_zero_slippage.py**
   - μ¬λ¦¬ν”Όμ§€ 0% μ²΄κ²°λ¥  ν™•μΈ
   - κ²°κ³Ό: 100% μ²΄κ²° κ°€λ¥

4. **tools/analyze_low_drop.py**
   - Low/High λ¶„ν¬ λ¶„μ„
   - κ²°κ³Ό: ν‰κ·  -0.2% μ¦‰μ‹ ν•λ½

5. **tools/optimal_entry_analysis.py**
   - Open vs Low/High μ§„μ… λΉ„κµ
   - κ²°κ³Ό: +0.2%p μ΄λ΅ μ  κ°μ„ 

### λ°μ΄ν„° ν†µκ³„

- **κ±°λμ†**: Bybit
- **μ‹¬λ³Ό**: BTC/USDT
- **νƒ€μ„ν”„λ μ„**: 1h
- **λ°μ΄ν„° κΈ°κ°„**: 203,823κ° λ΄‰
- **κΈ°κ°„**: 2017-08-17 ~ 2026-01-18 (μ•½ 23.3λ…„)

---

**μ‘μ„±μ**: Claude Sonnet 4.5
**κ²€ν† **: ν•„μ” (μ‚¬μ©μ μΉμΈ ν›„ μ§„ν–‰)
**λ¬Έμ„ λ²„μ „**: v1.0
**λ‹¤μ μ—…λ°μ΄νΈ**: Phase A μ™„λ£ ν›„
