# TwinStar Quantum ë¼ì´ì„¼ìŠ¤ ë³´ì•ˆ êµ¬í˜„ ìµœì¢… ë³´ê³ ì„œ

**ì‘ì„±ì¼:** 2025-12-19  
**ë²„ì „:** v1.0.1  
**ìƒíƒœ:** âœ… Python ì—°ë™ ì™„ë£Œ

---

## 1. ì™„ë£Œëœ ì‘ì—…

```
c:\ë§¤ë§¤ì „ëµ\
â”œâ”€â”€ core\
â”‚   â”œâ”€â”€ license_guard.py    âœ… ì‹ ê·œ ìƒì„± (520ì¤„)
â”‚   â””â”€â”€ unified_bot.py      âœ… ìˆ˜ì • ì™„ë£Œ (+45ì¤„)
â”œâ”€â”€ GUI\
â”‚   â”œâ”€â”€ pc_license_dialog.py âœ… ìˆ˜ì • ì™„ë£Œ (+50ì¤„)
â”‚   â”œâ”€â”€ settings_widget.py   âœ… ìˆ˜ì • ì™„ë£Œ (+30ì¤„)
â”‚   â”œâ”€â”€ tier_popup.py        âœ… ìƒì„± ì™„ë£Œ (145ì¤„)
â”‚   â””â”€â”€ staru_main.py        âœ… ì–¸ì–´ ì„ íƒ ì¶”ê°€
â”œâ”€â”€ staru_clean.spec          âœ… hiddenimports ì¶”ê°€
â””â”€â”€ requirements.txt          â³ pycryptodome ì¶”ê°€ í•„ìš”
```

---

## 2. êµ¬í˜„ ìš”ì•½

### 2.1 license_guard.py (í•µì‹¬ ëª¨ë“ˆ)

| ê¸°ëŠ¥ | ë©”ì„œë“œ |
|------|--------|
| ì„œë²„ ìƒíƒœ í™•ì¸ | `check_server_status()` |
| ë¡œê·¸ì¸/ì¸ì¦ | `login(email)` |
| í† í° ê´€ë¦¬ | `get_token()`, `refresh_token()` |
| íŒŒë¼ë¯¸í„° ê´€ë¦¬ | `get_encrypted_params()`, `get_params()` |
| ìœ ì˜ˆ ëª¨ë“œ | `enter_grace_mode()`, `is_in_grace()` |
| ë“±ê¸‰ ì œí•œ | `check_symbol_limit()`, `check_exchange_limit()` |
| ì—…ê·¸ë ˆì´ë“œ | `create_upgrade_session()` |
| ë§¤ë§¤ ê°€ëŠ¥ | `can_trade()` |

### 2.2 unified_bot.py ìˆ˜ì •

```python
# L176-183: Import ì¶”ê°€
from core.license_guard import get_license_guard

# L367-371: __init__ì—ì„œ ì´ˆê¸°í™”
self.license_guard = get_license_guard()

# L1635-1657: _can_trade() ë©”ì„œë“œ ì¶”ê°€
def _can_trade(self) -> bool:
    result = self.license_guard.can_trade()
    return result.get('can_trade', False)

# L2087-2090: execute_entry()ì—ì„œ ì²´í¬
if not self._can_trade():
    return False
```

### 2.3 pc_license_dialog.py ìˆ˜ì •

```python
# L22-28: Import ì¶”ê°€
from core.license_guard import get_license_guard

# L64-68: __init__ì—ì„œ ì´ˆê¸°í™”
self.license_guard = get_license_guard()

# L253-340: on_login_click()ì—ì„œ ì‚¬ìš©
result = self.license_guard.login(email)
if result.get('success'):
    self.license_guard.get_token()
    self.license_guard.get_encrypted_params()
```

### 2.4 settings_widget.py ìˆ˜ì •

```python
# L68-76: Import ì¶”ê°€
from core.license_guard import get_license_guard
import webbrowser

# L793-828: _show_payment_dialog() ìˆ˜ì •
guard = get_license_guard()
result = guard.create_upgrade_session()
if result.get('success'):
    webbrowser.open(result['url'])
```

---

## 3. ë³´ì•ˆ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í”„ë¡œê·¸ë¨ ì‹œì‘                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  pc_license_dialog â†’ license_guard.login(email)         â”‚
â”‚                    â†’ get_token()                        â”‚
â”‚                    â†’ get_encrypted_params()             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë©”ì¸ í™”ë©´                             â”‚
â”‚  ìƒë‹¨ ë°”: [ğŸŒ ì–¸ì–´] [ë“±ê¸‰] [ë§Œë£Œì¼] [ğŸ’³ ì—…ê·¸ë ˆì´ë“œ]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  unified_bot â†’ execute_entry()                          â”‚
â”‚              â†’ _can_trade() ì²´í¬                        â”‚
â”‚              â†’ ë“±ê¸‰/ìœ ì˜ˆ í™•ì¸                            â”‚
â”‚              â†’ ë§¤ë§¤ ì‹¤í–‰ or ì°¨ë‹¨                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ìœ ì˜ˆ ëª¨ë“œ ë™ì‘

| ìƒí™© | ë™ì‘ | ìœ ì˜ˆ ì‹œê°„ |
|------|------|----------|
| ì„œë²„ ì •ìƒ | ì •ìƒ ë™ì‘ | - |
| ì¸í„°ë„· ëŠê¹€ | ìœ ì˜ˆ ëª¨ë“œ ì§„ì… | 6ì‹œê°„ |
| ì„œë²„ë§Œ ì¥ì•  | ìœ ì˜ˆ ëª¨ë“œ ì§„ì… | 6ì‹œê°„ |
| ìœ ì˜ˆ ë§Œë£Œ | ë§¤ë§¤ ì¤‘ì§€ + ê²½ê³  | - |

---

## 5. ë“±ê¸‰ë³„ ì œí•œ

| ë“±ê¸‰ | ê±°ë˜ì†Œ | ì‹¬ë³¼ | íŠ¹ì´ì‚¬í•­ |
|------|--------|------|----------|
| ğŸ free | 1ê°œ | 1ê°œ | ì²´í—˜ ê¸°ê°„ ì œí•œ |
| â¬œ basic | 1ê°œ | 1ê°œ | ê¸°ë³¸ |
| ğŸ”· standard | 2ê°œ | 3ê°œ | BTCUSDT í•„ìˆ˜ |
| ğŸ’ premium | ë¬´ì œí•œ | ë¬´ì œí•œ | ì „ì²´ ê¸°ëŠ¥ |
| ğŸ”´ admin | ë¬´ì œí•œ | ë¬´ì œí•œ | ê´€ë¦¬ì |

---

## 6. API ì—”ë“œí¬ì¸íŠ¸ (ì„œë²„ ì¸¡)

| Action | Method | Parameters |
|--------|--------|------------|
| `ping` | GET | - |
| `check` | POST | `email`, `hw_id` |
| `get_token` | POST | `email`, `hw_id` |
| `refresh_token` | POST | `token` |
| `get_encrypted_params` | POST | `token`, `hw_id` |
| `create_upgrade_session` | POST | `email`, `hw_id` |
| `activate` | POST | `email`, `hw_id`, `mac` |

---

## 7. ê²€ì¦ ê²°ê³¼

| íŒŒì¼ | AST ê²€ì‚¬ | ìƒíƒœ |
|------|----------|------|
| `core/license_guard.py` | âœ… | ì‹ ê·œ |
| `core/unified_bot.py` | âœ… | ìˆ˜ì • |
| `GUI/pc_license_dialog.py` | âœ… | ìˆ˜ì • |
| `GUI/settings_widget.py` | âœ… | ìˆ˜ì • |
| `GUI/tier_popup.py` | âœ… | ì‹ ê·œ |
| `GUI/staru_main.py` | âœ… | ìˆ˜ì • |

---

## 8. ë‹¤ìŒ ë‹¨ê³„

### 8.1 ì¦‰ì‹œ í•„ìš”

- [ ] `requirements.txt`ì— `pycryptodome>=3.19.0` ì¶”ê°€

### 8.2 ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸

```powershell
# EXE ì¬ë¹Œë“œ
pyinstaller staru_clean.spec --clean

# ë¬¸ë²• ê²€ì¦
python -c "import ast; ast.parse(open('c:/ë§¤ë§¤ì „ëµ/core/license_guard.py', encoding='utf-8').read())"

# ì‹¤í–‰ í…ŒìŠ¤íŠ¸
python GUI/staru_main.py
```

### 8.3 ì„œë²„ ì¸¡ êµ¬í˜„

- [ ] PHP `api_license.php` ì•¡ì…˜ ì¶”ê°€
- [ ] ì•”í˜¸í™” íŒŒë¼ë¯¸í„° ìƒì„± ë¡œì§
- [ ] ì—…ê·¸ë ˆì´ë“œ ì„¸ì…˜ ê´€ë¦¬

---

## 9. ë³´ì•ˆ í‚¤ ì„¤ì •

âš ï¸ **ë°°í¬ ì „ ë³€ê²½ í•„ìˆ˜:**

```python
# core/license_guard.py L32
DECRYPT_KEY = b'YOUR_SECRET_KEY_32_BYTES_LONG!!'  # 32ë°”ì´íŠ¸ í•„ìˆ˜
```

---

## 10. íŒŒì¼ ë³€ê²½ í†µê³„

| íŒŒì¼ | ì¶”ê°€ | ì‚­ì œ | ìˆœì¦ |
|------|------|------|------|
| `license_guard.py` | +520 | 0 | +520 |
| `unified_bot.py` | +45 | 0 | +45 |
| `pc_license_dialog.py` | +50 | -20 | +30 |
| `settings_widget.py` | +30 | -10 | +20 |
| `tier_popup.py` | +145 | 0 | +145 |
| **ì´ê³„** | **+790** | **-30** | **+760** |

---

**ì‘ì„±:** Antigravity AI  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025-12-19 18:06
