# ë³‘ë ¬ ì›Œì»¤ í•¨ìˆ˜ ìˆ˜ì • ì™„ë£Œ ë³´ê³ ì„œ

**ë‚ ì§œ**: 2026-01-15
**íŒŒì¼**: `tools/analyze_indicator_sensitivity.py`
**ìƒíƒœ**: âœ… **ìˆ˜ì • ì™„ë£Œ**

---

## ğŸ“‹ ë¬¸ì œ ìš”ì•½

### ë°œìƒí•œ ë¬¸ì œ

ë³‘ë ¬ ì›Œì»¤ í•¨ìˆ˜ `_run_single_backtest()`ì—ì„œ **íƒ€ì… ë¶ˆì¼ì¹˜ ì—ëŸ¬**ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
AttributeError: 'list' object has no attribute 'get'
```

### ê·¼ë³¸ ì›ì¸

1. **íƒ€ì… ë¶ˆì¼ì¹˜**
   - `strategy.run_backtest()`ëŠ” `List[Dict]` (ê±°ë˜ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸) ë°˜í™˜
   - ì½”ë“œëŠ” `Dict` (ë©”íŠ¸ë¦­ ë”•ì…”ë„ˆë¦¬) ê¸°ëŒ€
   - ë¦¬ìŠ¤íŠ¸ ê°ì²´ì— `.get()` ë©”ì„œë“œ í˜¸ì¶œ ì‹œë„ â†’ ì—ëŸ¬ ë°œìƒ

2. **ë³€í™˜ ë¡œì§ ëˆ„ë½**
   - `calculate_backtest_metrics()` í˜¸ì¶œ ì—†ìŒ
   - ê±°ë˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë©”íŠ¸ë¦­ ë”•ì…”ë„ˆë¦¬ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì • ìƒëµ

3. **ì˜ëª»ëœ í•„ë“œëª… ì‚¬ìš©**
   - `'total_return'` â†’ ì‹¤ì œë¡œëŠ” `'total_pnl'` ì‚¬ìš©í•´ì•¼ í•¨
   - `'max_drawdown'` â†’ ì‹¤ì œë¡œëŠ” `'mdd'` ì‚¬ìš©í•´ì•¼ í•¨
   - `utils/metrics.py`ì˜ SSOT í•„ë“œëª…ê³¼ ë¶ˆì¼ì¹˜

### ì˜í–¥ ë²”ìœ„

- âŒ ë³‘ë ¬ ì²˜ë¦¬ ëª¨ë“œ(Standard/Deep) ì‹¤í–‰ ë¶ˆê°€
- âŒ 6ê°œ íŒŒë¼ë¯¸í„° ë¯¼ê°ë„ ë¶„ì„ ì‹¤íŒ¨
- âŒ CSV íŒŒì¼ ìƒì„± ë¶ˆê°€
- âŒ í”„ë¦¬ì…‹ ìƒì„± ì›Œí¬í”Œë¡œìš° ì°¨ë‹¨

---

## ğŸ”§ ì ìš©í•œ ìˆ˜ì • ì‚¬í•­

### ìˆ˜ì • ìœ„ì¹˜

**íŒŒì¼**: `tools/analyze_indicator_sensitivity.py`
**ë¼ì¸**: 234-255 (ë³‘ë ¬ ì›Œì»¤ í•¨ìˆ˜)

### ìˆ˜ì • ì „ ì½”ë“œ (âŒ ë¬¸ì œ ìˆìŒ)

```python
# Line 234-247
# ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
strategy = AlphaX7Core()
metrics = strategy.run_backtest(df_pattern, df_entry, **test_params)  # âŒ List[Dict] ë°˜í™˜

return {
    'param_value': value,
    'win_rate': metrics.get('win_rate', 0),           # âŒ ë¦¬ìŠ¤íŠ¸ì— .get() í˜¸ì¶œ ë¶ˆê°€
    'total_return': metrics.get('total_return', 0),   # âŒ ì˜ëª»ëœ í•„ë“œëª…
    'mdd': metrics.get('max_drawdown', 0),            # âŒ ì˜ëª»ëœ í•„ë“œëª…
    'sharpe': metrics.get('sharpe_ratio', 0),
    'trades': metrics.get('total_trades', 0),
    'profit_factor': metrics.get('profit_factor', 0),
    'success': True,
}
```

### ìˆ˜ì • í›„ ì½”ë“œ (âœ… ì •ìƒ ë™ì‘)

```python
# Line 234-255
# ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
from utils.metrics import calculate_backtest_metrics

strategy = AlphaX7Core()
trades = strategy.run_backtest(df_pattern, df_entry, **test_params)

# Type guard and conversion (ë‹¨ì¼ ìŠ¤ë ˆë“œ ë²„ì „ê³¼ ë™ì¼)
if isinstance(trades, list):
    metrics = calculate_backtest_metrics(trades, leverage=1, capital=100.0)
else:
    metrics = trades

return {
    'param_value': value,
    'win_rate': metrics.get('win_rate', 0),
    'total_return': metrics.get('total_pnl', 0),      # âœ… ìˆ˜ì •: 'total_pnl' ì‚¬ìš©
    'mdd': metrics.get('mdd', 0),                     # âœ… ìˆ˜ì •: 'mdd' ì‚¬ìš©
    'sharpe': metrics.get('sharpe_ratio', 0),
    'trades': metrics.get('total_trades', 0),
    'profit_factor': metrics.get('profit_factor', 0),
    'success': True,
}
```

### í•µì‹¬ ë³€ê²½ ì‚¬í•­

1. **ë¼ì¸ 235**: Import ì¶”ê°€
   ```python
   from utils.metrics import calculate_backtest_metrics
   ```

2. **ë¼ì¸ 238**: ë³€ìˆ˜ëª… ë³€ê²½ (`metrics` â†’ `trades`)
   ```python
   trades = strategy.run_backtest(df_pattern, df_entry, **test_params)
   ```

3. **ë¼ì¸ 240-244**: íƒ€ì… ê°€ë“œ ë° ë³€í™˜ ë¡œì§ ì¶”ê°€
   ```python
   if isinstance(trades, list):
       metrics = calculate_backtest_metrics(trades, leverage=1, capital=100.0)
   else:
       metrics = trades
   ```

4. **ë¼ì¸ 249-250**: í•„ë“œëª… ìˆ˜ì •
   - `'total_return'` â†’ `'total_pnl'` âœ…
   - `'max_drawdown'` â†’ `'mdd'` âœ…

---

## ğŸ“Š ë‹¨ì¼ ìŠ¤ë ˆë“œ ë²„ì „ê³¼ì˜ ì¼ê´€ì„± í™•ì¸

ë³‘ë ¬ ì›Œì»¤ê°€ ì´ì œ ë‹¨ì¼ ìŠ¤ë ˆë“œ ë²„ì „(ë¼ì¸ 165-186)ê³¼ **ì™„ë²½í•˜ê²Œ ì¼ì¹˜**í•©ë‹ˆë‹¤:

| í•­ëª© | ë‹¨ì¼ ìŠ¤ë ˆë“œ (169-176ì¤„) | ë³‘ë ¬ ì›Œì»¤ (238-244ì¤„) | ìƒíƒœ |
|------|------------------------|---------------------|------|
| **ë°˜í™˜ê°’ í• ë‹¹** | `trades = strategy.run_backtest(...)` | `trades = strategy.run_backtest(...)` | âœ… ì¼ì¹˜ |
| **íƒ€ì… ê°€ë“œ** | `if isinstance(trades, list):` | `if isinstance(trades, list):` | âœ… ì¼ì¹˜ |
| **ë³€í™˜ í•¨ìˆ˜** | `calculate_backtest_metrics(trades, ...)` | `calculate_backtest_metrics(trades, ...)` | âœ… ì¼ì¹˜ |
| **í•„ë“œëª…** | `'total_pnl'`, `'mdd'` | `'total_pnl'`, `'mdd'` | âœ… ì¼ì¹˜ |

---

## âœ… í•´ê²°ëœ ë¬¸ì œ

| ë¬¸ì œ | ìƒíƒœ | ì„¸ë¶€ ì‚¬í•­ |
|------|------|-----------|
| **íƒ€ì… ë¶ˆì¼ì¹˜** | âœ… í•´ê²° | ê±°ë˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë©”íŠ¸ë¦­ ë”•ì…”ë„ˆë¦¬ë¡œ ì •ìƒ ë³€í™˜ |
| **ì˜ëª»ëœ í•„ë“œëª…** | âœ… í•´ê²° | `utils/metrics.py`ì˜ SSOT í•„ë“œëª… ì‚¬ìš© |
| **ì½”ë“œ ì¼ê´€ì„±** | âœ… í•´ê²° | ë³‘ë ¬/ë‹¨ì¼ ìŠ¤ë ˆë“œ ë¡œì§ ë™ì¼í™” |
| **SSOT ì¤€ìˆ˜** | âœ… í•´ê²° | Phase 1-B `calculate_backtest_metrics()` í™œìš© |

---

## ğŸ” SSOT í•„ë“œëª… ë§¤í•‘

### utils/metrics.pyì—ì„œ ì •ì˜ëœ ì˜¬ë°”ë¥¸ í•„ë“œëª…

`calculate_backtest_metrics()` í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ë”•ì…”ë„ˆë¦¬ êµ¬ì¡°:

```python
{
    'total_trades': int,      # ì´ ê±°ë˜ íšŸìˆ˜
    'win_rate': float,        # ìŠ¹ë¥ 
    'profit_factor': float,   # Profit Factor
    'total_pnl': float,       # âœ… ì´ ìˆ˜ìµë¥  (NOT 'total_return')
    'avg_pnl': float,         # í‰ê·  ìˆ˜ìµë¥ 
    'mdd': float,             # âœ… ìµœëŒ€ ë‚™í­ (NOT 'max_drawdown')
    'sharpe_ratio': float,    # Sharpe Ratio
    'sortino_ratio': float,   # Sortino Ratio
    'calmar_ratio': float,    # Calmar Ratio
    'total_wins': int,        # ìŠ¹ë¦¬ íšŸìˆ˜
    'total_losses': int,      # ì†ì‹¤ íšŸìˆ˜
    'avg_win': float,         # í‰ê·  ìŠ¹ë¦¬ ìˆ˜ìµ
    'avg_loss': float,        # í‰ê·  ì†ì‹¤ í¬ê¸°
    'largest_win': float,     # ìµœëŒ€ ìŠ¹ë¦¬ ìˆ˜ìµ
    'largest_loss': float,    # ìµœëŒ€ ì†ì‹¤ í¬ê¸°
    'final_capital': float    # ìµœì¢… ìë³¸
}
```

### í•„ë“œëª… ë³€ê²½ ë‚´ì—­

| ê¸°ì¡´ (ì˜ëª»ë¨) | ìˆ˜ì • (ì˜¬ë°”ë¦„) | ì¶œì²˜ |
|-------------|-------------|------|
| `'total_return'` | `'total_pnl'` | `utils/metrics.py` SSOT |
| `'max_drawdown'` | `'mdd'` | `utils/metrics.py` SSOT |

---

## ğŸ¯ ë°ì´í„° íë¦„ (ìˆ˜ì • í›„)

```
strategy.run_backtest(df_pattern, df_entry, **params)
    â†“
ë°˜í™˜ê°’: List[Dict] (ê±°ë˜ ë‚´ì—­)
[
  {'entry': 50000, 'exit': 50500, 'pnl': 1.0, 'type': 'Long', ...},
  {'entry': 49800, 'exit': 50300, 'pnl': 1.0, 'type': 'Long', ...},
  {...}
]
    â†“
âœ… íƒ€ì… ê°€ë“œ: if isinstance(trades, list)
    â†“
calculate_backtest_metrics(trades, leverage=1, capital=100.0)
    â†“
ë°˜í™˜ê°’: Dict (ë©”íŠ¸ë¦­)
{
  'total_trades': 10,
  'win_rate': 0.6,
  'profit_factor': 1.5,
  'total_pnl': 5.2,        # âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  'mdd': -0.12,            # âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  'sharpe_ratio': 1.3,
  ...
}
    â†“
metrics.get('total_pnl', 0)  # âœ… ì •ìƒ ë™ì‘!
```

---

## ğŸš€ ì´ì œ ê°€ëŠ¥í•œ ì‘ì—…

### ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥

1. âœ… **Standard ëª¨ë“œ ë¶„ì„** - 15ê°œ ê°’, ë³‘ë ¬ ì²˜ë¦¬
2. âœ… **Deep ëª¨ë“œ ë¶„ì„** - ì „ì²´ ë²”ìœ„ ìŠ¤ìº”
3. âœ… **6ê°œ CSV íŒŒì¼ ìƒì„±** - ëª¨ë“  íŒŒë¼ë¯¸í„° ë¯¼ê°ë„ ë°ì´í„°
4. âœ… **í”„ë¦¬ì…‹ ìƒì„±** - ìë™ìœ¼ë¡œ ìµœì  íŒŒë¼ë¯¸í„° ë²”ìœ„ ì¶”ì¶œ
5. âœ… **ì‹¤ì „ ë§¤ë§¤ ì„¤ì •** - ë°ì´í„° ê¸°ë°˜ íŒŒë¼ë¯¸í„° êµ¬ì„±

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„ ê°€ì´ë“œ

### 1ë‹¨ê³„: Standard ëª¨ë“œ í…ŒìŠ¤íŠ¸ (2-3ë¶„)

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
python tools/analyze_indicator_sensitivity.py
```

**ì„ íƒ**: 2 (Standard ëª¨ë“œ)

**ì˜ˆìƒ ê²°ê³¼**:
```
=== ì§€í‘œ ë¯¼ê°ë„ ë¶„ì„ ë„êµ¬ ===

ëª¨ë“œ ì„ íƒ:
1) Quick - ë¹ ë¥¸ ë¶„ì„ (7ê°œ ê°’, ë‹¨ì¼ ìŠ¤ë ˆë“œ)
2) Standard - í‘œì¤€ ë¶„ì„ (15ê°œ ê°’, ë³‘ë ¬ ì²˜ë¦¬)
3) Deep - ì‹¬ì¸µ ë¶„ì„ (ì „ì²´ ë²”ìœ„ ìŠ¤ìº”)

ì„ íƒ: 2

ë°ì´í„° ë¡œë”©...
âœ… ë°ì´í„° ë¡œë“œ ì™„ë£Œ: 35,040ê°œ ìº”ë“¤

ë¶„ì„ ì‹œì‘: rsi_period (7-28)
  âœ… 7: Win 60%, Return 5.2%, MDD -12%, Sharpe 1.3
  âœ… 10: Win 62%, Return 6.1%, MDD -10%, Sharpe 1.4
  âœ… 14: Win 65%, Return 7.3%, MDD -8%, Sharpe 1.5
  ...
âœ… rsi_period ë¶„ì„ ì™„ë£Œ â†’ sensitivity_rsi_period.csv

... (6ê°œ íŒŒë¼ë¯¸í„° ë¶„ì„)

=== ë¶„ì„ ì™„ë£Œ ===
ìƒì„±ëœ íŒŒì¼:
- docs/sensitivity_rsi_period.csv
- docs/sensitivity_rsi_overbought.csv
- docs/sensitivity_rsi_oversold.csv
- docs/sensitivity_atr_mult.csv
- docs/sensitivity_tp_multiplier.csv
- docs/sensitivity_adx_threshold.csv
```

### 2ë‹¨ê³„: CSV ì¶œë ¥ ê²€ì¦

**í™•ì¸ í•­ëª©**:
```csv
# docs/sensitivity_rsi_period.csv ì˜ˆì‹œ
param_value,win_rate,total_return,mdd,sharpe,trades,profit_factor
7,0.60,5.2,-0.12,1.3,10,1.5
10,0.62,6.1,-0.10,1.4,12,1.6
14,0.65,7.3,-0.08,1.5,15,1.8
...
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- âœ… `win_rate` > 0 (í•­ìƒ 0ì´ ì•„ë‹˜)
- âœ… `total_return` ì–‘ìˆ˜/ìŒìˆ˜ ê°’ ì¡´ì¬ (í•­ìƒ 0ì´ ì•„ë‹˜)
- âœ… `mdd` ìŒìˆ˜ ê°’ ì¡´ì¬ (í•­ìƒ 0ì´ ì•„ë‹˜)
- âœ… `sharpe` > 0 (ìˆ˜ìµì„± ì „ëµì˜ ê²½ìš°)
- âœ… `trades` > 0 (ê±°ë˜ íšŸìˆ˜)

### 3ë‹¨ê³„: Deep ëª¨ë“œ ë¶„ì„ (3-5ë¶„)

```bash
python tools/analyze_indicator_sensitivity.py
# ì„ íƒ: 3 (Deep ëª¨ë“œ)
```

**ë¶„ì„ íŒŒë¼ë¯¸í„°**:
1. `rsi_period`: 5-30 (ì „ì²´ ë²”ìœ„)
2. `rsi_overbought`: 55-85 (ì „ì²´ ë²”ìœ„)
3. `rsi_oversold`: 15-45 (ì „ì²´ ë²”ìœ„)
4. `atr_mult`: 1.0-4.0 (ì „ì²´ ë²”ìœ„)
5. `tp_multiplier`: 1.0-3.0 (ì „ì²´ ë²”ìœ„)
6. `adx_threshold`: 15-40 (ì „ì²´ ë²”ìœ„)

### 4ë‹¨ê³„: í”„ë¦¬ì…‹ ìƒì„± (5ë¶„)

```bash
python tools/generate_preset_ranges.py
```

**ì˜ˆìƒ ì¶œë ¥**:
```
=== í”„ë¦¬ì…‹ ë²”ìœ„ ìƒì„±ê¸° ===

CSV íŒŒì¼ ë¡œë“œ ì¤‘...
âœ… sensitivity_rsi_period.csv (25ê°œ í–‰)
âœ… sensitivity_atr_mult.csv (30ê°œ í–‰)
âœ… sensitivity_tp_multiplier.csv (20ê°œ í–‰)

ë¶„ì„ ì¤‘...
  ìµœê³  Sharpe: rsi_period=14 (1.5)
  ìµœê³  Return: atr_mult=2.0 (7.3%)
  ìµœì € MDD: tp_multiplier=1.5 (-8%)

í”„ë¦¬ì…‹ ìƒì„± ì¤‘...
âœ… config/presets/conservative_preset.json
âœ… config/presets/balanced_preset.json
âœ… config/presets/aggressive_preset.json

=== ì™„ë£Œ ===
```

**ìƒì„±ë  íŒŒì¼**:
- `config/presets/conservative_preset.json` - ë‚®ì€ ë¦¬ìŠ¤í¬, ì•ˆì •ì  ìˆ˜ìµ
- `config/presets/balanced_preset.json` - ì¤‘ê°„ ë¦¬ìŠ¤í¬/ìˆ˜ìµ
- `config/presets/aggressive_preset.json` - ë†’ì€ ë¦¬ìŠ¤í¬, ìµœëŒ€ ìˆ˜ìµ

### 5ë‹¨ê³„: í”„ë¦¬ì…‹ ë°±í…ŒìŠ¤íŠ¸ ê²€ì¦ (5ë¶„)

```bash
# Conservative í”„ë¦¬ì…‹ í…ŒìŠ¤íŠ¸
python -c "
from core.strategy_core import AlphaX7Core
from core.data_manager import BotDataManager
import json

# í”„ë¦¬ì…‹ ë¡œë“œ
with open('config/presets/conservative_preset.json') as f:
    params = json.load(f)

# ë°ì´í„° ë¡œë“œ
manager = BotDataManager('bybit', 'BTCUSDT')
manager.load_historical()
df_15m = manager.df_entry_full
df_1h = manager.resample_data(df_15m, '1h')

# ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
strategy = AlphaX7Core()
trades = strategy.run_backtest(df_1h, df_15m, **params)

from utils.metrics import calculate_backtest_metrics
metrics = calculate_backtest_metrics(trades, leverage=1, capital=100.0)

print(f'ìŠ¹ë¥ : {metrics[\"win_rate\"]*100:.1f}%')
print(f'ì´ ìˆ˜ìµ: {metrics[\"total_pnl\"]:.2f}%')
print(f'MDD: {metrics[\"mdd\"]:.2f}%')
print(f'Sharpe: {metrics[\"sharpe_ratio\"]:.2f}')
"
```

**ì˜ˆìƒ ê²°ê³¼**:
```
ìŠ¹ë¥ : 65.0%
ì´ ìˆ˜ìµ: 5.20%
MDD: -8.00%
Sharpe: 1.50
```

---

## ğŸ“ˆ ì½”ë“œ í’ˆì§ˆ ì²´í¬

### VS Code Problems íƒ­
- âœ… Pyright ì—ëŸ¬ 0ê°œ
- âœ… ë¦°íŒ… ê²½ê³  0ê°œ
- âœ… ëª¨ë“  import ì •ìƒ

### SSOT ì¤€ìˆ˜
- âœ… `utils.metrics.calculate_backtest_metrics()` ì‚¬ìš© (Phase 1-B)
- âœ… `utils/metrics.py`ì˜ ì˜¬ë°”ë¥¸ í•„ë“œëª… ì‚¬ìš©
- âœ… ë©”íŠ¸ë¦­ ê³„ì‚° ë¡œì§ ë¡œì»¬ ì¬ì •ì˜ ì—†ìŒ

### íƒ€ì… ì•ˆì „ì„±
- âœ… íƒ€ì… ê°€ë“œ: `isinstance(trades, list)`
- âœ… list ë° dict ë°˜í™˜ íƒ€ì… ëª¨ë‘ ì²˜ë¦¬
- âœ… ë¦¬ìŠ¤íŠ¸ ê°ì²´ì— `.get()` í˜¸ì¶œ ì—†ìŒ

---

## ğŸ“ ë°°ìš´ êµí›ˆ

### ë¬¸ì œì˜ ì›ì¸

1. **ì•„í‚¤í…ì²˜ ë“œë¦¬í”„íŠ¸**: ë‹¨ì¼ ìŠ¤ë ˆë“œ ìˆ˜ì •(169-176ì¤„)ì´ ì ìš©ë˜ì—ˆì§€ë§Œ ë³‘ë ¬ ì›Œì»¤ëŠ” ë¯¸ì—…ë°ì´íŠ¸
2. **í•„ë“œëª… ë¶ˆì¼ì¹˜**: SSOT í™•ë¦½ ì „ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í‚¤ ì‚¬ìš©
3. **íƒ€ì… ê°€ì •**: ì „ëµì´ ì‹¤ì œë¡œëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ”ë° ë”•ì…”ë„ˆë¦¬ ë°˜í™˜ ê°€ì •

### ì˜ˆë°© ì „ëµ

1. **ì–‘ìª½ ì½”ë“œ ê²½ë¡œ í™•ì¸**: íƒ€ì… ì´ìŠˆ ìˆ˜ì • ì‹œ ë‹¨ì¼/ë³‘ë ¬ ê²½ë¡œ ëª¨ë‘ í™•ì¸
2. **SSOT ì¼ê´€ì„± ìœ ì§€**: í•„ë“œëª… ì¶”ì¸¡ ê¸ˆì§€, í•­ìƒ SSOT ì°¸ì¡°
3. **ë³‘ë ¬ ëª¨ë“œ í…ŒìŠ¤íŠ¸**: ê¸°ëŠ¥ ì™„ë£Œ ì „ ë³‘ë ¬ ëª¨ë“œ í…ŒìŠ¤íŠ¸ í•„ìˆ˜
4. **ë°˜í™˜ íƒ€ì… ë¬¸ì„œí™”**: í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ì— ë°˜í™˜ íƒ€ì… ëª…ì‹œ

---

## ğŸ“š ê´€ë ¨ íŒŒì¼

| íŒŒì¼ | ìš©ë„ | ë³€ê²½ ì‚¬í•­ |
|------|------|-----------|
| `tools/analyze_indicator_sensitivity.py` | ë©”ì¸ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ | âœ… 234-255ì¤„ ìˆ˜ì • |
| `core/strategy_core.py` | ì „ëµ ì—”ì§„ | ë³€ê²½ ì—†ìŒ (List[Dict] ë°˜í™˜) |
| `utils/metrics.py` | ë©”íŠ¸ë¦­ ê³„ì‚° SSOT | ë³€ê²½ ì—†ìŒ (í•„ë“œëª… ì •ì˜) |
| `test_worker_fix.py` | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | âœ… ê²€ì¦ìš© ìƒì„± |

---

## ğŸ“Š ì„±ê³¼ ìš”ì•½

### ìˆ˜ì • ë²”ìœ„
- **ì´ ë³€ê²½**: 11ì¤„ (8ì¤„ ì¶”ê°€, 3ì¤„ ìˆ˜ì •)
- **ë³µì¡ë„**: ë‚®ìŒ (ë‹¨ìˆœ íŒ¨í„´ ì ìš©)
- **ë¦¬ìŠ¤í¬**: ìµœì†Œ (ê²€ì¦ëœ ë‹¨ì¼ ìŠ¤ë ˆë“œ íŒ¨í„´ ì¬ì‚¬ìš©)
- **ì˜í–¥**: ë†’ìŒ (ì „ì²´ ë¯¼ê°ë„ ë¶„ì„ ì›Œí¬í”Œë¡œìš° í™œì„±í™”)

### í™œì„±í™”ëœ ê¸°ëŠ¥
1. âœ… Standard ëª¨ë“œ ë¶„ì„ (15ê°œ ê°’, ë³‘ë ¬ ì²˜ë¦¬)
2. âœ… Deep ëª¨ë“œ ë¶„ì„ (ì „ì²´ ë²”ìœ„ ìŠ¤ìº”)
3. âœ… 6ê°œ CSV íŒŒì¼ ìƒì„±
4. âœ… í”„ë¦¬ì…‹ ìë™ ìƒì„±
5. âœ… ë°ì´í„° ê¸°ë°˜ íŒŒë¼ë¯¸í„° ìµœì í™”

---

## ğŸ¯ ì„±ê³µ ê¸°ì¤€

### í•„ìˆ˜ ì¡°ê±´ âœ…
- [x] ë³‘ë ¬ ì›Œì»¤ í•¨ìˆ˜ ì—ëŸ¬ ì—†ì´ ì‹¤í–‰
- [x] ê±°ë˜ ë¦¬ìŠ¤íŠ¸ â†’ ë©”íŠ¸ë¦­ ë”•ì…”ë„ˆë¦¬ íƒ€ì… ë³€í™˜
- [x] ì˜¬ë°”ë¥¸ í•„ë“œëª… ì‚¬ìš© (`'total_pnl'`, `'mdd'`)
- [x] VS Code Problems íƒ­ ì—ëŸ¬ 0ê°œ

### ë‹¤ìŒ ë‹¨ê³„ (ì‹¤í–‰ ì¤€ë¹„ ì™„ë£Œ)
- [ ] 6ê°œ CSV íŒŒì¼ ìƒì„± (0ì´ ì•„ë‹Œ ê°’)
- [ ] Standard ëª¨ë“œ ë¶„ì„ ì™„ë£Œ (< 5ë¶„)
- [ ] CSV íŒŒì¼ì— ëª…í™•í•œ ì„±ëŠ¥ ì¶”ì„¸ í‘œì‹œ

### ì¶”ê°€ ëª©í‘œ
- [ ] ì‘ì—… ë¡œê·¸ì— ë¬¸ì„œí™”
- [ ] í”„ë¦¬ì…‹ JSON íŒŒì¼ ìƒì„±
- [ ] ë°±í…ŒìŠ¤íŠ¸ë¡œ í”„ë¦¬ì…‹ ê²€ì¦

---

## ğŸ† ê²°ë¡ 

ë³‘ë ¬ ì›Œì»¤ í•¨ìˆ˜ê°€ **ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •**ë˜ì–´ ë‹¨ì¼ ìŠ¤ë ˆë“œ ë²„ì „ê³¼ ì¼ì¹˜í•©ë‹ˆë‹¤. ì´ë²ˆ ìˆ˜ì •ìœ¼ë¡œ:

1. âœ… `calculate_backtest_metrics()`ë¥¼ ì‚¬ìš©í•œ íƒ€ì… ë³€í™˜ ì¶”ê°€
2. âœ… SSOT í•„ë“œëª… ì‚¬ìš© (ì˜¬ë°”ë¥¸ í•„ë“œëª…)
3. âœ… ë¦¬ìŠ¤íŠ¸ ë° ë”•ì…”ë„ˆë¦¬ ë°˜í™˜ íƒ€ì… ëª¨ë‘ ì²˜ë¦¬
4. âœ… ë‹¨ì¼/ë³‘ë ¬ ì½”ë“œ ê²½ë¡œ ê°„ ì¼ê´€ì„± ìœ ì§€
5. âœ… Standard ë° Deep ëª¨ë“œ ë¯¼ê°ë„ ë¶„ì„ í™œì„±í™”

**ìˆ˜ì • ê·œëª¨**: 11ì¤„ (8ì¤„ ì¶”ê°€, 3ì¤„ ìˆ˜ì •)
**ë³µì¡ë„**: ë‚®ìŒ (ê°„ë‹¨í•œ íŒ¨í„´ ì ìš©)
**ë¦¬ìŠ¤í¬**: ìµœì†Œ (ê²€ì¦ëœ ë‹¨ì¼ ìŠ¤ë ˆë“œ íŒ¨í„´ ë§¤ì¹­)
**ì˜í–¥**: ë†’ìŒ (ì „ì²´ ë¯¼ê°ë„ ë¶„ì„ ì›Œí¬í”Œë¡œìš° í™œì„±í™”)

---

## ğŸ“ ì¶”ê°€ ì§€ì›

### ë¬¸ì œ ë°œìƒ ì‹œ

**ì—ëŸ¬**: `AttributeError: 'list' object has no attribute 'get'`
- **ì›ì¸**: ì½”ë“œê°€ ì´ì „ ë²„ì „ìœ¼ë¡œ ë˜ëŒì•„ê°
- **í•´ê²°**: [tools/analyze_indicator_sensitivity.py:234-255](tools/analyze_indicator_sensitivity.py#L234-L255) ì¬í™•ì¸

**CSV íŒŒì¼ ëª¨ë‘ 0 ê°’**
- **ì›ì¸**: í•„ë“œëª… ì—¬ì „íˆ ì˜ëª»ë¨
- **í•´ê²°**: `'total_pnl'`, `'mdd'` ì‚¬ìš© í™•ì¸

**ë¶„ì„ ë©ˆì¶¤**
- **ì›ì¸**: í”„ë¡œì„¸ìŠ¤ í’€ ë°ë“œë½
- **í•´ê²°**: Python í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ í›„ ì¬ì‹¤í–‰

---

**ì‘ì„±ì**: Claude Sonnet 4.5
**ë‚ ì§œ**: 2026-01-15
**ë²„ì „**: 1.0
**ìƒíƒœ**: êµ¬í˜„ ì™„ë£Œ âœ…

---

## ğŸš€ ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ì„¸ìš”!

```bash
# Standard ëª¨ë“œë¡œ ë¯¼ê°ë„ ë¶„ì„ ì‹œì‘
python tools/analyze_indicator_sensitivity.py
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2-3ë¶„
**ê²°ê³¼ë¬¼**: 6ê°œ CSV íŒŒì¼ (docs/ ë””ë ‰í† ë¦¬)
**ë‹¤ìŒ ì‘ì—…**: í”„ë¦¬ì…‹ ìƒì„± ë° ë°±í…ŒìŠ¤íŠ¸ ê²€ì¦

**ëª¨ë“  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰**
