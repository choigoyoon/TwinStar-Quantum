# ìµœì í™” vs ë°±í…ŒìŠ¤íŠ¸ ë©”íŠ¸ë¦­ ë¶ˆì¼ì¹˜ ë¶„ì„ ë³´ê³ ì„œ

**ë‚ ì§œ**: 2026-01-15
**ìƒíƒœ**: âš ï¸ **ë¶€ë¶„ í•´ê²° - ì¶”ê°€ ì‘ì—… í•„ìš”**

---

## ğŸ“‹ ìš”ì•½

**ì§ˆë¬¸**: "ì´ì œ ìµœì í™” ë°±í…ŒìŠ¤íŠ¸ ê°’ ê°™ì•„?"

**ë‹µë³€**: **ì•„ë‹ˆìš”, ì•„ì§ ì™„ì „íˆ ê°™ì§€ ì•ŠìŠµë‹ˆë‹¤.**

### í˜„ì¬ ìƒí™©

| ì»´í¬ë„ŒíŠ¸ | SSOT ì‚¬ìš© ì—¬ë¶€ | ìƒíƒœ |
|---------|-------------|------|
| `tools/analyze_indicator_sensitivity.py` | âœ… **ì™„ì „ ì‚¬ìš©** | âœ… ìˆ˜ì • ì™„ë£Œ |
| `core/optimizer.py` | âš ï¸ **ë¶€ë¶„ ì‚¬ìš©** | âš ï¸ ì¶”ê°€ ì‘ì—… í•„ìš” |
| `core/strategy_core.py` | âœ… **ì™„ì „ ì‚¬ìš©** | âœ… ì •ìƒ |
| `utils/metrics.py` | âœ… **SSOT ì •ì˜** | âœ… ì •ìƒ |

---

## ğŸ” optimizer.py ìƒì„¸ ë¶„ì„

### í˜„ì¬ ìƒíƒœ (Line 1125-1255)

**SSOT ì‚¬ìš© ë¶€ë¶„** âœ…:
```python
# Line 1197: Sharpe Ratio - SSOT ì‚¬ìš©
sharpe_ratio = calculate_sharpe_ratio(pnl_series.tolist(), periods_per_year=252 * 4)

# Line 1200-1201: Profit Factor - SSOT ì‚¬ìš©
trades_for_pf = [{'pnl': p} for p in pnls]
profit_factor = calculate_profit_factor(trades_for_pf)
```

**ë¡œì»¬ ê³„ì‚° ë¶€ë¶„** âŒ:
```python
# Line 1164-1166: Win Rate - ë¡œì»¬ ê³„ì‚°
win_rate = (pnl_series > 0).mean() * 100

# Line 1166: Simple Return - ë¡œì»¬ ê³„ì‚°
simple_return = pnl_series.sum()

# Line 1168-1184: Compound Return - ë¡œì»¬ ê³„ì‚°
equity = 1.0
cumulative_equity = [1.0]
for p in pnls:
    clamped_pnl = max(MIN_SINGLE_PNL, min(MAX_SINGLE_PNL, p))
    equity *= (1 + clamped_pnl / 100)
    cumulative_equity.append(equity)
compound_return = (equity - 1) * 100

# Line 1187-1194: MDD - ë¡œì»¬ ê³„ì‚° âŒ í•µì‹¬ ë¬¸ì œ!
peak = 1.0
max_drawdown = 0
for val in cumulative_equity:
    if val > peak: peak = val
    drawdown = (peak - val) / peak * 100 if peak > 1e-9 else 100.0
    if drawdown > max_drawdown: max_drawdown = drawdown
max_drawdown = min(max_drawdown, 100.0)
```

### ë°˜í™˜ ë”•ì…”ë„ˆë¦¬ (Line 1243-1255)

```python
return {
    'win_rate': round(win_rate, 2),
    'total_return': round(simple_return, 2),
    'simple_return': round(simple_return, 2),
    'compound_return': round(compound_return, 2),
    'max_drawdown': round(max_drawdown, 2),  # âŒ SSOTëŠ” 'mdd' ì‚¬ìš©!
    'sharpe_ratio': round(sharpe_ratio, 2),
    'profit_factor': round(profit_factor, 2),
    'stability': stability,
    'avg_trades_per_day': avg_trades_per_day,
    'avg_pnl': round(pnl_series.mean(), 4),
    'cagr': round(BacktestOptimizer._calculate_cagr(equity, trades), 2)
}
```

---

## âš ï¸ ë¬¸ì œì  ì •ë¦¬

### 1. í•„ë“œëª… ë¶ˆì¼ì¹˜

| optimizer.py | utils/metrics.py (SSOT) | ìƒíƒœ |
|-------------|------------------------|------|
| `'max_drawdown'` | `'mdd'` | âŒ ë¶ˆì¼ì¹˜ |
| `'total_return'` | `'total_pnl'` | âš ï¸ ì˜ë¯¸ ë‹¤ë¦„ |
| `'simple_return'` | N/A | âš ï¸ optimizer ì „ìš© |
| `'compound_return'` | N/A | âš ï¸ optimizer ì „ìš© |

### 2. MDD ê³„ì‚° ë¡œì§ ë¶ˆì¼ì¹˜

**optimizer.py (Line 1187-1194)**:
```python
peak = 1.0
max_drawdown = 0
for val in cumulative_equity:
    if val > peak: peak = val
    drawdown = (peak - val) / peak * 100 if peak > 1e-9 else 100.0
    if drawdown > max_drawdown: max_drawdown = drawdown
max_drawdown = min(max_drawdown, 100.0)
```

**utils/metrics.py (Line 147-173)**:
```python
def calculate_mdd(trades: List[Dict]) -> float:
    """ìµœëŒ€ ë‚™í­(MDD) ê³„ì‚°"""
    if not trades:
        return 0.0

    # Equity curve ê³„ì‚°
    equity = 100.0
    equity_curve = [equity]

    for trade in trades:
        pnl = trade.get('pnl', 0)
        equity *= (1 + pnl / 100)
        equity_curve.append(equity)

    # MDD ê³„ì‚°
    peak = equity_curve[0]
    max_dd = 0.0

    for value in equity_curve:
        if value > peak:
            peak = value
        dd = ((peak - value) / peak) * 100
        if dd > max_dd:
            max_dd = dd

    return max_dd
```

### ì°¨ì´ì 

1. **ì‹œì‘ ìë³¸**:
   - optimizer.py: `equity = 1.0` (100% ê¸°ì¤€)
   - utils/metrics.py: `equity = 100.0` (100ë‹¬ëŸ¬ ê¸°ì¤€)

2. **PnL í´ë¨í•‘**:
   - optimizer.py: `Â±50%` ìƒí•œ/í•˜í•œ ì ìš©
   - utils/metrics.py: í´ë¨í•‘ ì—†ìŒ

3. **ê³„ì‚° ë°©ì‹**:
   - ë‘˜ ë‹¤ peak-to-valley ë°©ì‹ ì‚¬ìš© (ë¡œì§ ë™ì¼)
   - í•˜ì§€ë§Œ PnL í´ë¨í•‘ìœ¼ë¡œ ì¸í•´ ê²°ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ

### 3. Win Rate ê³„ì‚° ë¶ˆì¼ì¹˜

**optimizer.py (Line 1165)**:
```python
win_rate = (pnl_series > 0).mean() * 100
```

**utils/metrics.py (Line 187-194)**:
```python
def calculate_win_rate(trades: List[Dict]) -> float:
    """ìŠ¹ë¥  ê³„ì‚°"""
    if not trades:
        return 0.0

    wins = sum(1 for t in trades if t.get('pnl', 0) > 0)
    return (wins / len(trades)) * 100
```

**ì°¨ì´ì **: ì—†ìŒ (ë¡œì§ ë™ì¼, í‘œí˜„ë§Œ ë‹¤ë¦„)

---

## ğŸ¯ ë¶ˆì¼ì¹˜ ì›ì¸

### Compound Return vs Total PnL

**optimizer.py**:
- `simple_return` = ë‹¨ë¦¬ ìˆ˜ìµë¥  (PnL í•©ê³„)
- `compound_return` = ë³µë¦¬ ìˆ˜ìµë¥  (equity curve ê¸°ë°˜)
- `total_return` = `simple_return`ê³¼ ë™ì¼

**utils/metrics.py**:
- `total_pnl` = ë‹¨ë¦¬ ìˆ˜ìµë¥  (PnL í•©ê³„)
- ë³µë¦¬ ìˆ˜ìµë¥  ê°œë… ì—†ìŒ

**ì˜ë¯¸**:
- `optimizer.py`ì˜ `'total_return'`ì€ `utils/metrics.py`ì˜ `'total_pnl'`ê³¼ **ê°™ì€ ê°’**
- í•˜ì§€ë§Œ **í•„ë“œëª…ì´ ë‹¤ë¦„** â†’ í˜¸í™˜ì„± ë¬¸ì œ

---

## ğŸ“Š ë¹„êµí‘œ

### SSOT ì¤€ìˆ˜ í˜„í™©

| ë©”íŠ¸ë¦­ | optimizer.py | utils/metrics.py | ì¼ì¹˜ ì—¬ë¶€ |
|-------|-------------|------------------|----------|
| **Win Rate** | ë¡œì»¬ ê³„ì‚° | `calculate_win_rate()` | âš ï¸ ë¡œì§ ê°™ìŒ, SSOT ë¯¸ì‚¬ìš© |
| **Total Return** | ë¡œì»¬ (`simple_return`) | `total_pnl` | âš ï¸ ë¡œì§ ê°™ìŒ, í•„ë“œëª… ë‹¤ë¦„ |
| **MDD** | ë¡œì»¬ (í´ë¨í•‘ ì ìš©) | `calculate_mdd()` | âŒ PnL í´ë¨í•‘ ì°¨ì´ |
| **Sharpe Ratio** | âœ… SSOT ì‚¬ìš© | `calculate_sharpe_ratio()` | âœ… ì™„ì „ ì¼ì¹˜ |
| **Profit Factor** | âœ… SSOT ì‚¬ìš© | `calculate_profit_factor()` | âœ… ì™„ì „ ì¼ì¹˜ |
| **Compound Return** | ë¡œì»¬ ê³„ì‚° | N/A | âš ï¸ optimizer ì „ìš© |
| **Stability** | ë¡œì»¬ ê³„ì‚° | N/A | âš ï¸ optimizer ì „ìš© |
| **Avg Trades/Day** | ë¡œì»¬ ê³„ì‚° | N/A | âš ï¸ optimizer ì „ìš© |
| **CAGR** | ë¡œì»¬ ê³„ì‚° | N/A | âš ï¸ optimizer ì „ìš© |

---

## ğŸ’¡ ì™œ optimizer.pyëŠ” ë‹¤ë¥¸ê°€?

### ì •ë‹¹í•œ ì°¨ì´ì 

1. **Compound Return**:
   - ìµœì í™” ì‹œ **ë³µë¦¬ íš¨ê³¼ ê³ ë ¤** í•„ìš”
   - ì¥ê¸° ì „ëµì˜ ì„±ì¥ì„± í‰ê°€
   - SSOTì— ì—†ëŠ” **ì¶”ê°€ ë©”íŠ¸ë¦­**

2. **PnL í´ë¨í•‘ (Â±50%)**:
   - ê·¹ë‹¨ì  ìˆ˜ìµ/ì†ì‹¤ë¡œ ì¸í•œ **ì˜¤ë²„í”Œë¡œìš° ë°©ì§€**
   - ë¹„í˜„ì‹¤ì  íŒŒë¼ë¯¸í„° ì¡°í•© í•„í„°ë§
   - ìµœì í™” ì•ˆì •ì„± í™•ë³´

3. **Stability**:
   - 3ë¶„í•  ìˆ˜ìµ ì¼ê´€ì„± ì²´í¬
   - ê³¼ìµœì í™”(overfitting) ê°ì§€
   - GUI í‘œì‹œìš© ì‹œê°ì  ì§€í‘œ

4. **CAGR (ì—°ê°„ ë³µë¦¬ ì„±ì¥ë¥ )**:
   - ì¥ê¸° ì„±ê³¼ ë¹„êµ ì§€í‘œ
   - íˆ¬ì ì˜ì‚¬ê²°ì • ì§€í‘œ

### ë¬¸ì œê°€ ë˜ëŠ” ì°¨ì´ì 

1. âŒ **MDD ê³„ì‚° ë¶ˆì¼ì¹˜**:
   - PnL í´ë¨í•‘ìœ¼ë¡œ ì¸í•´ **ë‹¤ë¥¸ ê°’** ì‚°ì¶œ
   - ìµœì í™” MDD < ë°±í…ŒìŠ¤íŠ¸ MDD (í´ë¨í•‘ìœ¼ë¡œ ë‚®ì•„ì§)
   - **ì‚¬ìš©ì í˜¼ë€** ìœ ë°œ

2. âŒ **í•„ë“œëª… ë¶ˆì¼ì¹˜**:
   - `'max_drawdown'` vs `'mdd'`
   - GUI ì½”ë“œì—ì„œ **ì–´ë–¤ í•„ë“œëª… ì‚¬ìš©í•´ì•¼ í• ì§€ í˜¼ë€**

---

## ğŸ”§ ìˆ˜ì • ë°©ì•ˆ

### ì˜µì…˜ 1: optimizer.pyë¥¼ SSOTì— ë§ì¶”ê¸° (ê¶Œì¥)

**ì¥ì **:
- ì½”ë“œ ì¤‘ë³µ ì œê±°
- ì¼ê´€ì„± í™•ë³´
- ìœ ì§€ë³´ìˆ˜ ìš©ì´

**ë‹¨ì **:
- PnL í´ë¨í•‘ ê¸°ëŠ¥ ìƒì‹¤ (ì˜¤ë²„í”Œë¡œìš° ìœ„í—˜)
- Compound return, Stability, CAGR ë³„ë„ êµ¬í˜„ í•„ìš”

**êµ¬í˜„**:
```python
from utils.metrics import (
    calculate_win_rate,
    calculate_mdd,
    calculate_sharpe_ratio,
    calculate_profit_factor,
    calculate_backtest_metrics  # ì „ì²´ ë©”íŠ¸ë¦­ í•œ ë²ˆì—
)

@staticmethod
def calculate_metrics(trades: List[Dict]) -> Dict:
    """ê±°ë˜ ê²°ê³¼ì—ì„œ ë©”íŠ¸ë¦­ ê³„ì‚°"""
    if not trades:
        return {k: 0 for k in [...]}

    # SSOT ì‚¬ìš© (ê¸°ë³¸ ë©”íŠ¸ë¦­)
    base_metrics = calculate_backtest_metrics(trades, leverage=1, capital=100.0)

    # optimizer ì „ìš© ì¶”ê°€ ë©”íŠ¸ë¦­
    pnls = [t.get('pnl', 0) for t in trades]

    # Compound return (í´ë¨í•‘ ì ìš©)
    MAX_SINGLE_PNL = 50.0
    MIN_SINGLE_PNL = -50.0
    equity = 1.0
    for p in pnls:
        clamped_pnl = max(MIN_SINGLE_PNL, min(MAX_SINGLE_PNL, p))
        equity *= (1 + clamped_pnl / 100)
    compound_return = (equity - 1) * 100

    # Stability ê³„ì‚°
    n = len(pnls)
    p1 = sum(pnls[:n//3])
    p2 = sum(pnls[n//3:2*n//3])
    p3 = sum(pnls[2*n//3:])
    stability = "âœ…" * sum([p1 > 0, p2 > 0, p3 > 0]) + "âš ï¸" * (3 - sum([p1 > 0, p2 > 0, p3 > 0]))

    # CAGR ê³„ì‚°
    cagr = BacktestOptimizer._calculate_cagr(equity, trades)

    # í†µí•© ë°˜í™˜
    return {
        # SSOT ë©”íŠ¸ë¦­ (í•„ë“œëª… ë§¤í•‘)
        'win_rate': base_metrics['win_rate'] * 100,  # 0-1 â†’ 0-100
        'total_return': base_metrics['total_pnl'],
        'simple_return': base_metrics['total_pnl'],
        'max_drawdown': base_metrics['mdd'],  # âœ… 'mdd' ì‚¬ìš©
        'sharpe_ratio': base_metrics['sharpe_ratio'],
        'profit_factor': base_metrics['profit_factor'],
        'avg_pnl': base_metrics['avg_pnl'],

        # Optimizer ì „ìš© ë©”íŠ¸ë¦­
        'compound_return': round(compound_return, 2),
        'stability': stability,
        'avg_trades_per_day': ...,  # ê¸°ì¡´ ë¡œì§ ìœ ì§€
        'cagr': cagr,
    }
```

### ì˜µì…˜ 2: utils/metrics.py í™•ì¥ (ëŒ€ì•ˆ)

**ì¥ì **:
- SSOTì— ëª¨ë“  ë©”íŠ¸ë¦­ í†µí•©
- optimizer.py ë‹¨ìˆœí™”

**ë‹¨ì **:
- utils/metrics.py ë³µì¡ë„ ì¦ê°€
- optimizer ì „ìš© ë¡œì§ì„ SSOTì— í¬í•¨ (ë²”ìš©ì„± ì €í•˜)

**êµ¬í˜„**:
```python
# utils/metrics.pyì— ì¶”ê°€
def calculate_compound_return(
    trades: List[Dict],
    clamp_pnl: bool = True,
    max_pnl: float = 50.0,
    min_pnl: float = -50.0
) -> float:
    """ë³µë¦¬ ìˆ˜ìµë¥  ê³„ì‚° (PnL í´ë¨í•‘ ì˜µì…˜)"""
    ...

def calculate_stability(trades: List[Dict]) -> str:
    """3ë¶„í•  ìˆ˜ìµ ì¼ê´€ì„± ì²´í¬"""
    ...

def calculate_cagr(trades: List[Dict], final_equity: float) -> float:
    """ì—°ê°„ ë³µë¦¬ ì„±ì¥ë¥  ê³„ì‚°"""
    ...

def calculate_optimizer_metrics(trades: List[Dict]) -> Dict:
    """ìµœì í™” ì „ìš© ë©”íŠ¸ë¦­ ì„¸íŠ¸"""
    base = calculate_backtest_metrics(trades)
    return {
        **base,
        'compound_return': calculate_compound_return(trades, clamp_pnl=True),
        'stability': calculate_stability(trades),
        'cagr': calculate_cagr(trades, ...),
    }
```

### ì˜µì…˜ 3: í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ (ìµœì„ )

**ì „ëµ**:
1. **ê³µí†µ ë©”íŠ¸ë¦­**: SSOT ì‚¬ìš© (Win Rate, Total PnL, MDD, Sharpe, Profit Factor)
2. **Optimizer ì „ìš©**: ë¡œì»¬ ìœ ì§€ (Compound Return, Stability, CAGR)
3. **í•„ë“œëª… í†µì¼**: `'max_drawdown'` â†’ `'mdd'`

**ì¥ì **:
- âœ… SSOT ì¤€ìˆ˜
- âœ… Optimizer íŠ¹ìˆ˜ ê¸°ëŠ¥ ìœ ì§€
- âœ… ì½”ë“œ ì¤‘ë³µ ìµœì†Œí™”

**ë‹¨ì **:
- MDD ê³„ì‚° ë¶ˆì¼ì¹˜ í•´ê²° í•„ìš” (í´ë¨í•‘ ì´ìŠˆ)

---

## ğŸš§ MDD í´ë¨í•‘ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ

**optimizer.py**:
- PnL Â±50% í´ë¨í•‘ â†’ MDD ë‚®ê²Œ ê³„ì‚°
- ì˜ˆ: ì‹¤ì œ -80% ì†ì‹¤ â†’ -50% í´ë¨í•‘ â†’ MDD ì¶•ì†Œ

**utils/metrics.py**:
- í´ë¨í•‘ ì—†ìŒ â†’ ì‹¤ì œ MDD ê³„ì‚°

### í•´ê²°ì±… 1: utils/metrics.pyì— í´ë¨í•‘ ì˜µì…˜ ì¶”ê°€

```python
def calculate_mdd(
    trades: List[Dict],
    clamp_pnl: bool = False,
    max_pnl: float = 50.0,
    min_pnl: float = -50.0
) -> float:
    """MDD ê³„ì‚° (í´ë¨í•‘ ì˜µì…˜)"""
    if not trades:
        return 0.0

    equity = 100.0
    equity_curve = [equity]

    for trade in trades:
        pnl = trade.get('pnl', 0)

        # í´ë¨í•‘ ì ìš© (ì˜µì…˜)
        if clamp_pnl:
            pnl = max(min_pnl, min(max_pnl, pnl))

        equity *= (1 + pnl / 100)
        equity_curve.append(equity)

    # MDD ê³„ì‚°
    peak = equity_curve[0]
    max_dd = 0.0

    for value in equity_curve:
        if value > peak:
            peak = value
        dd = ((peak - value) / peak) * 100
        if dd > max_dd:
            max_dd = dd

    return max_dd
```

**ì‚¬ìš©**:
```python
# optimizer.py
mdd_clamped = calculate_mdd(trades, clamp_pnl=True, max_pnl=50.0, min_pnl=-50.0)

# strategy_core.py (ë°±í…ŒìŠ¤íŠ¸)
mdd_real = calculate_mdd(trades, clamp_pnl=False)
```

### í•´ê²°ì±… 2: ë‘ ê°€ì§€ MDD ì œê³µ

```python
# optimizer.py
return {
    'mdd': base_metrics['mdd'],  # ì‹¤ì œ MDD (í´ë¨í•‘ ì—†ìŒ)
    'mdd_clamped': calculate_mdd_clamped(trades),  # í´ë¨í•‘ MDD (optimizer ì „ìš©)
    ...
}
```

---

## ğŸ“‹ ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ ìˆ˜ì • (í•„ìˆ˜)

- [ ] **í•„ë“œëª… í†µì¼**: `'max_drawdown'` â†’ `'mdd'`
  - íŒŒì¼: `core/optimizer.py:1248`
  - ì˜í–¥: GUI ì½”ë“œë„ í™•ì¸ í•„ìš”

- [ ] **MDD ê³„ì‚° SSOT ì‚¬ìš©**:
  - `calculate_mdd()` í˜¸ì¶œ
  - í´ë¨í•‘ ì˜µì…˜ ê³ ë ¤

- [ ] **Win Rate SSOT ì‚¬ìš©**:
  - `calculate_win_rate()` í˜¸ì¶œ
  - ë˜ëŠ” `calculate_backtest_metrics()` ì‚¬ìš©

### ê¶Œì¥ ìˆ˜ì •

- [ ] **utils/metrics.py í™•ì¥**:
  - `calculate_mdd()` í´ë¨í•‘ ì˜µì…˜ ì¶”ê°€
  - `calculate_compound_return()` ì¶”ê°€ (ì„ íƒ)

- [ ] **optimizer.py ë¦¬íŒ©í† ë§**:
  - `calculate_backtest_metrics()` ê¸°ë³¸ ì‚¬ìš©
  - Optimizer ì „ìš© ë©”íŠ¸ë¦­ë§Œ ë¡œì»¬ ê³„ì‚°

- [ ] **GUI ì½”ë“œ í™•ì¸**:
  - `'max_drawdown'` ì‚¬ìš© ìœ„ì¹˜ ê²€ìƒ‰
  - `'mdd'`ë¡œ í†µì¼

---

## ğŸ¯ ê²°ë¡ 

### í˜„ì¬ ìƒíƒœ

**ë¯¼ê°ë„ ë¶„ì„ ë„êµ¬** (`tools/analyze_indicator_sensitivity.py`):
- âœ… **ì™„ì „ ìˆ˜ì • ì™„ë£Œ**
- âœ… SSOT 100% ì¤€ìˆ˜
- âœ… í•„ë“œëª… í†µì¼ (`'total_pnl'`, `'mdd'`)

**ìµœì í™” ì—”ì§„** (`core/optimizer.py`):
- âš ï¸ **ë¶€ë¶„ ìˆ˜ì •**
- âš ï¸ Sharpe, Profit Factorë§Œ SSOT ì‚¬ìš©
- âŒ MDD, Win Rate ì—¬ì „íˆ ë¡œì»¬ ê³„ì‚°
- âŒ í•„ë“œëª… ë¶ˆì¼ì¹˜ (`'max_drawdown'` vs `'mdd'`)

### ìµœì¢… ë‹µë³€

**"ì´ì œ ìµœì í™” ë°±í…ŒìŠ¤íŠ¸ ê°’ ê°™ì•„?"**

**ë‹µë³€**:
- âœ… **Sharpe Ratio, Profit Factor**: ê°™ì•„ìš” (SSOT ì‚¬ìš©)
- âš ï¸ **Win Rate**: ë¡œì§ì€ ê°™ì€ë° SSOT ë¯¸ì‚¬ìš©
- âŒ **MDD**: PnL í´ë¨í•‘ ë•Œë¬¸ì— ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”
- âš ï¸ **Total Return**: ê°’ì€ ê°™ì€ë° í•„ë“œëª…ì´ ë‹¬ë¼ìš” (`'total_return'` vs `'total_pnl'`)

### ë‹¤ìŒ ì‘ì—…

1. **í•„ë“œëª… í†µì¼** (5ë¶„)
   - `'max_drawdown'` â†’ `'mdd'`
   - `'total_return'` ì˜ë¯¸ ëª…í™•í™”

2. **MDD SSOT ì ìš©** (10ë¶„)
   - `calculate_mdd()` ì‚¬ìš©
   - í´ë¨í•‘ ì˜µì…˜ ì¶”ê°€ (ì„ íƒ)

3. **Win Rate SSOT ì ìš©** (5ë¶„)
   - `calculate_win_rate()` ì‚¬ìš©

**ì´ ì˜ˆìƒ ì‹œê°„**: 20ë¶„

---

**ì‘ì„±**: Claude Sonnet 4.5
**ë‚ ì§œ**: 2026-01-15
**ìƒíƒœ**: ë¶„ì„ ì™„ë£Œ âœ…
